<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>logging.yaml &mdash; OctoPrint master documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../_static/theme_overrides.css" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/mermaid.min.js"></script>
        <script>mermaid.initialize({startOnLoad:true});</script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="CLI" href="cli.html" />
    <link rel="prev" title="config.yaml" href="config_yaml.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            OctoPrint
          </a>
              <div class="version">
                master
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../features/index.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bundledplugins/index.html">Bundled Plugins</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Configuration</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="yaml.html">A YAML Primer</a></li>
<li class="toctree-l2"><a class="reference internal" href="config_yaml.html">config.yaml</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">logging.yaml</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#changing-log-levels">Changing log levels</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changing-logging-handlers">Changing logging handlers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changing-logging-formatters">Changing logging formatters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cli.html">CLI</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../events/index.html">Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins/index.html">Developing Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/index.html">Internal Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jsclientlib/index.html">JavaScript Client Library</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">OctoPrint</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">



  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Configuration</a> &raquo;</li>
        
      <li>logging.yaml</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/configuration/logging_yaml.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="logging-yaml">
<span id="sec-configuration-logging-yaml"></span><h1>logging.yaml<a class="headerlink" href="#logging-yaml" title="Permalink to this heading"></a></h1>
<p>The logging configuration file <code class="docutils literal notranslate"><span class="pre">logging.yaml</span></code> for OctoPrint is expected in its settings folder, which unless defined
differently on the command line is located at <code class="docutils literal notranslate"><span class="pre">~/.octoprint</span></code> on Linux, at <code class="docutils literal notranslate"><span class="pre">%APPDATA%/OctoPrint</span></code> on Windows and at
<code class="docutils literal notranslate"><span class="pre">~/Library/Application</span> <span class="pre">Support/OctoPrint</span></code> on macOS.</p>
<p>You can use it to change the log levels of the individual components within OctoPrint, which might be necessary to help
in debugging issues you are experiencing, or to change the configuration of the logging handlers themselves, e.g. in
order to change size after which to rollover the <code class="docutils literal notranslate"><span class="pre">serial.log</span></code>.</p>
<section id="changing-log-levels">
<h2>Changing log levels<a class="headerlink" href="#changing-log-levels" title="Permalink to this heading"></a></h2>
<p>If you need to change the default logging level within OctoPrint, create the file with a text editor of your choice
(it’s usually not there). The general format is this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">loggers</span><span class="p">:</span>
  <span class="o">&lt;</span><span class="n">component</span><span class="o">&gt;</span><span class="p">:</span>
    <span class="n">level</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">loglevel</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>with <code class="docutils literal notranslate"><span class="pre">&lt;component&gt;</span></code> being the internal OctoPrint component for which to change the loglevel, and <code class="docutils literal notranslate"><span class="pre">&lt;loglevel&gt;</span></code> being the
new log level to set. An example for increasing the log level of the events and the file management components to
<code class="docutils literal notranslate"><span class="pre">DEBUG</span></code> (the highest amount of logging) would be this <code class="docutils literal notranslate"><span class="pre">logging.yaml</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">loggers</span><span class="p">:</span>
<span class="w">  </span><span class="nt">octoprint.events</span><span class="p">:</span>
<span class="w">    </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DEBUG</span>
<span class="w">  </span><span class="nt">octoprint.filemanager</span><span class="p">:</span>
<span class="w">    </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DEBUG</span>
</pre></div>
</div>
<p>A list of important components for which an increase in logging might be interesting follows:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">octoprint.events</span></code>: the event sub system</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">octoprint.filemanager</span></code>: the file management layer</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">octoprint.plugin</span></code>: the plugin sub system</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">octoprint.plugins.&lt;plugin&gt;</span></code>: the plugin <code class="docutils literal notranslate"><span class="pre">&lt;plugin&gt;</span></code>, e.g. <code class="docutils literal notranslate"><span class="pre">octoprint.plugins.discovery</span></code> to change the log level of
the <a class="reference internal" href="../bundledplugins/discovery.html#sec-bundledplugins-discovery"><span class="std std-ref">Discovery plugin</span></a> or <code class="docutils literal notranslate"><span class="pre">octoprint.plugins.backup</span></code>
to change the log level of the <a class="reference internal" href="../bundledplugins/backup.html#sec-bundledplugins-backup"><span class="std std-ref">Backup plugin</span></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">octoprint.slicing</span></code>: the slicing sub system</p></li>
</ul>
</div></blockquote>
<p>This list will be expanded when deemed necessary.</p>
</section>
<section id="changing-logging-handlers">
<h2>Changing logging handlers<a class="headerlink" href="#changing-logging-handlers" title="Permalink to this heading"></a></h2>
<p>You can also change the configuration of the logging handlers themselves, e.g. in order to make the <code class="docutils literal notranslate"><span class="pre">serial.log</span></code> larger
for debugging long running communications or to change the behaviour of the <code class="docutils literal notranslate"><span class="pre">octoprint.log</span></code>.</p>
<p>You can find the default configurations of the <code class="docutils literal notranslate"><span class="pre">file</span></code> handler used for the <code class="docutils literal notranslate"><span class="pre">octoprint.log</span></code>, the <code class="docutils literal notranslate"><span class="pre">serialFile</span></code> handler
used for the <code class="docutils literal notranslate"><span class="pre">serial.log</span></code> and the <code class="docutils literal notranslate"><span class="pre">console</span></code> handler used for the output to stdout in YAML format below:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">handlers</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># stdout</span>
<span class="w">  </span><span class="nt">console</span><span class="p">:</span>
<span class="w">    </span><span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">logging.StreamHandler</span>
<span class="w">    </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DEBUG</span>
<span class="w">    </span><span class="nt">formatter</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">simple</span>
<span class="w">    </span><span class="nt">stream</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ext://sys.stdout</span>

<span class="w">  </span><span class="c1"># octoprint.log</span>
<span class="w">  </span><span class="nt">file</span><span class="p">:</span>
<span class="w">    </span><span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">logging.handlers.TimedRotatingFileHandler</span>
<span class="w">    </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DEBUG</span>
<span class="w">    </span><span class="nt">formatter</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">simple</span>
<span class="w">    </span><span class="nt">when</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">D</span>
<span class="w">    </span><span class="nt">backupCount</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">    </span><span class="nt">filename</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/octoprints/logs/octoprint.log</span>

<span class="w">  </span><span class="c1"># serial.log</span>
<span class="w">  </span><span class="nt">serialFile</span><span class="p">:</span>
<span class="w">    </span><span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">logging.handlers.RotatingFileHandler</span>
<span class="w">    </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DEBUG</span>
<span class="w">    </span><span class="nt">formatter</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">simple</span>
<span class="w">    </span><span class="nt">maxBytes</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2097152</span><span class="w"> </span><span class="c1"># 2 * 1024 * 1024 = 2 MB in bytes</span>
<span class="w">    </span><span class="nt">filename</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/octoprints/logs/serial.log</span>
</pre></div>
</div>
<p>You can find more information on the used logging handlers in the Python documentation on
<a class="reference external" href="https://docs.python.org/3/library/logging.handlers.html#module-logging.handlers" title="(in Python v3.12)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">logging.handlers</span></code></a>.</p>
</section>
<section id="changing-logging-formatters">
<h2>Changing logging formatters<a class="headerlink" href="#changing-logging-formatters" title="Permalink to this heading"></a></h2>
<p>The logging formatters can be defined via <code class="docutils literal notranslate"><span class="pre">logging.yaml</span></code> as well. The <code class="docutils literal notranslate"><span class="pre">simple</span></code> formatter as referenced above is
expressed in YAML as follows:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">formatters</span><span class="p">:</span>
<span class="w">  </span><span class="nt">simple</span><span class="p">:</span>
<span class="w">    </span><span class="nt">format</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;%(asctime)s</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">%(name)s</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">%(levelname)s</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">%(message)s&quot;</span>
</pre></div>
</div>
<p>The possible keys for the logging format can be found in the
<a class="reference external" href="https://docs.python.org/3/library/logging.html#logrecord-attributes" title="(in Python v3.12)"><span class="xref std std-ref">Python documentation on LogRecord attributes</span></a>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="config_yaml.html" class="btn btn-neutral float-left" title="config.yaml" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cli.html" class="btn btn-neutral float-right" title="CLI" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2013-2024, Gina Häußge.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: master
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Tags</dt>
      <dd><a href="https://docs.octoprint.org/en/1.10.0rc3/configuration/logging_yaml.html">1.10.0rc3</a></dd>
      <dd><a href="https://docs.octoprint.org/en/1.9.3/configuration/logging_yaml.html">1.9.3</a></dd>
    </dl>
    <dl>
      <dt>Branches</dt>
      <dd><a href="https://docs.octoprint.org/en/master/configuration/logging_yaml.html">master</a></dd>
      <dd><a href="https://docs.octoprint.org/en/maintenance/configuration/logging_yaml.html">maintenance</a></dd>
      <dd><a href="https://docs.octoprint.org/en/devel/configuration/logging_yaml.html">devel</a></dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>