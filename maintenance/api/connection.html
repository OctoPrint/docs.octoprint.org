<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Connection handling &mdash; OctoPrint maintenance documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/mermaid.min.js"></script>
        <script>mermaid.initialize({startOnLoad:true});</script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="File operations" href="files.html" />
    <link rel="prev" title="Server information" href="server.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> OctoPrint
          </a>
              <div class="version">
                maintenance
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../features/index.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bundledplugins/index.html">Bundled Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/index.html">Configuration</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">REST API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="general.html">General information</a></li>
<li class="toctree-l2"><a class="reference internal" href="version.html">Version information</a></li>
<li class="toctree-l2"><a class="reference internal" href="server.html">Server information</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Connection handling</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#get-connection-settings">Get connection settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#issue-a-connection-command">Issue a connection command</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="files.html">File operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="job.html">Job operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="languages.html">Languages</a></li>
<li class="toctree-l2"><a class="reference internal" href="logs.html">Log file management</a></li>
<li class="toctree-l2"><a class="reference internal" href="printer.html">Printer operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="printerprofiles.html">Printer profile operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="settings.html">Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="slicing.html">Slicing</a></li>
<li class="toctree-l2"><a class="reference internal" href="system.html">System</a></li>
<li class="toctree-l2"><a class="reference internal" href="timelapse.html">Timelapse</a></li>
<li class="toctree-l2"><a class="reference internal" href="access.html">Access control</a></li>
<li class="toctree-l2"><a class="reference internal" href="util.html">Util</a></li>
<li class="toctree-l2"><a class="reference internal" href="wizard.html">Wizard</a></li>
<li class="toctree-l2"><a class="reference internal" href="push.html">Push updates</a></li>
<li class="toctree-l2"><a class="reference internal" href="datamodel.html">Common data model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../events/index.html">Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins/index.html">Developing Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/index.html">Internal Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jsclientlib/index.html">JavaScript Client Library</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">OctoPrint</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">


  <p style="padding: 10px;margin: 0 0 10px 0;border-radius: 2px;letter-spacing: 1px;font-size: 13px;color: white;text-align: center;background: #3a87ad;background-image: none;background-size: auto;background-size: 28px 28px;background-image: linear-gradient( -45deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.2) 75%, transparent 75%, transparent );">
    <strong>Note:</strong>
    These are not the docs of the latest released version. Those can be found <a href="https://docs.octoprint.org/en/1.7.3" style="color: white;text-decoration: underline">here</a>.
  </p>


  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">REST API</a> &raquo;</li>
        
      <li>Connection handling</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/connection.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="connection-handling">
<span id="sec-api-connection"></span><h1><a class="toc-backref" href="#id1">Connection handling</a><a class="headerlink" href="#connection-handling" title="Permalink to this headline"></a></h1>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#connection-handling" id="id1">Connection handling</a></p>
<ul>
<li><p><a class="reference internal" href="#get-connection-settings" id="id2">Get connection settings</a></p></li>
<li><p><a class="reference internal" href="#issue-a-connection-command" id="id3">Issue a connection command</a></p></li>
</ul>
</li>
</ul>
</div>
<section id="get-connection-settings">
<span id="sec-api-connection-current"></span><h2><a class="toc-backref" href="#id2">Get connection settings</a><a class="headerlink" href="#get-connection-settings" title="Permalink to this headline"></a></h2>
<dl class="http get">
<dt class="sig sig-object http" id="get--api-connection">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/api/connection</span></span><a class="headerlink" href="#get--api-connection" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve the current connection settings, including information regarding the available baudrates and
serial ports and the current connection state.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">STATUS</span></code> permission.</p>
<p><strong>Example</strong></p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/api/connection</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">example.com</span>
<span class="na">X-Api-Key</span><span class="o">:</span> <span class="l">abcdef...</span>
</pre></div>
</div>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;current&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Operational&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;port&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/dev/ttyACM0&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;baudrate&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">250000</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;printerProfile&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;_default&quot;</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;ports&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;/dev/ttyACM0&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;VIRTUAL&quot;</span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;baudrates&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">250000</span><span class="p">,</span><span class="w"> </span><span class="mi">230400</span><span class="p">,</span><span class="w"> </span><span class="mi">115200</span><span class="p">,</span><span class="w"> </span><span class="mi">57600</span><span class="p">,</span><span class="w"> </span><span class="mi">38400</span><span class="p">,</span><span class="w"> </span><span class="mi">19200</span><span class="p">,</span><span class="w"> </span><span class="mi">9600</span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;printerProfiles&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Default&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;_default&quot;</span><span class="p">}],</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;portPreference&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/dev/ttyACM0&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;baudratePreference&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">250000</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;printerProfilePreference&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;_default&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;autoconnect&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Status Codes</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – No error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="issue-a-connection-command">
<span id="sec-api-connection-command"></span><h2><a class="toc-backref" href="#id3">Issue a connection command</a><a class="headerlink" href="#issue-a-connection-command" title="Permalink to this headline"></a></h2>
<dl class="http post">
<dt class="sig sig-object http" id="post--api-connection">
<span class="sig-name descname"><span class="pre">POST</span> </span><span class="sig-name descname"><span class="pre">/api/connection</span></span><a class="headerlink" href="#post--api-connection" title="Permalink to this definition"></a></dt>
<dd><p>Issue a connection command. Currently available command are:</p>
<dl class="simple">
<dt>connect</dt><dd><p>Instructs OctoPrint to connect or, if already connected, reconnect to the printer. Additional parameters are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">port</span></code>: Optional, specific port to connect to. If not set the current <code class="docutils literal notranslate"><span class="pre">portPreference</span></code> will be used, or if
no preference is available auto detection will be attempted.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">baudrate</span></code>: Optional, specific baudrate to connect with. If not set the current <code class="docutils literal notranslate"><span class="pre">baudratePreference</span></code> will
be used, or if no preference is available auto detection will be attempted.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">printerProfile</span></code> Optional, specific printer profile to use for connection. If not set the current default printer
profile will be used.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">save</span></code>: Optional, whether to save the request’s <code class="docutils literal notranslate"><span class="pre">port</span></code> and <code class="docutils literal notranslate"><span class="pre">baudrate</span></code> settings as new preferences. Defaults
to <code class="docutils literal notranslate"><span class="pre">false</span></code> if not set.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">autoconnect</span></code>: Optional, whether to automatically connect to the printer on OctoPrint’s startup in the future.
If not set no changes will be made to the current configuration.</p></li>
</ul>
</dd>
<dt>disconnect</dt><dd><p>Instructs OctoPrint to disconnect from the printer.</p>
</dd>
<dt>fake_ack</dt><dd><p>Fakes an acknowledgment message for OctoPrint in case one got lost on the serial line and the communication
with the printer since stalled. This should only be used in “emergencies” (e.g. to save prints), the reason
for the lost acknowledgment should always be properly investigated and removed instead of depending on this
“symptom solver”.</p>
</dd>
</dl>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">CONNECTION</span></code> permission.</p>
<p><strong>Example Connect Request</strong></p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/api/connection</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">example.com</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">X-Api-Key</span><span class="o">:</span> <span class="l">abcdef...</span>

<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;connect&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;port&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/dev/ttyACM0&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;baudrate&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">115200</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;printerProfile&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;my_printer_profile&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;save&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;autoconnect&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</pre></div>
</div>
<p><strong>Example Disconnect Request</strong></p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/api/connection</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">example.com</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">X-Api-Key</span><span class="o">:</span> <span class="l">abcdef...</span>

<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;disconnect&quot;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</pre></div>
</div>
<p><strong>Example FakeAck Request</strong></p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/api/connection</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">example.com</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">X-Api-Key</span><span class="o">:</span> <span class="l">abcdef...</span>

<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fake_ack&quot;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">JSON Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>command</strong> (<em>string</em>) – The command to issue, either <code class="docutils literal notranslate"><span class="pre">connect</span></code>, <code class="docutils literal notranslate"><span class="pre">disconnect</span></code> or <code class="docutils literal notranslate"><span class="pre">fake_ack</span></code>.</p></li>
<li><p><strong>port</strong> (<em>string</em>) – <code class="docutils literal notranslate"><span class="pre">connect</span></code> command: The port to connect to. If left out either the existing <code class="docutils literal notranslate"><span class="pre">portPreference</span></code>
will be used, or if that is not available OctoPrint will attempt auto detection. Must be part
of the available ports.</p></li>
<li><p><strong>baudrate</strong> (<em>number</em>) – <code class="docutils literal notranslate"><span class="pre">connect</span></code> command: The baudrate to connect with. If left out either the existing
<code class="docutils literal notranslate"><span class="pre">baudratePreference</span></code> will be used, or if that is not available OctoPrint will attempt
autodetection. Must be part of the available baudrates.</p></li>
<li><p><strong>printerProfile</strong> (<em>string</em>) – <code class="docutils literal notranslate"><span class="pre">connect</span></code> command: The id of the printer profile to use for the connection. If left out the current
default printer profile will be used. Must be part of the available printer profiles.</p></li>
<li><p><strong>save</strong> (<em>boolean</em>) – <code class="docutils literal notranslate"><span class="pre">connect</span></code> command: Whether to save the supplied connection settings as the new preference.
Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code> if not set.</p></li>
<li><p><strong>autoconnect</strong> (<em>boolean</em>) – <code class="docutils literal notranslate"><span class="pre">connect</span></code> command: Whether to attempt to automatically connect to the printer on server
startup. If not set no changes will be made to the current setting.</p></li>
</ul>
</dd>
<dt class="field-even">Status Codes</dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.5">204 No Content</a></span> – No error</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.1">400 Bad Request</a></span> – If the selected <cite>port</cite> or <cite>baudrate</cite> for a <code class="docutils literal notranslate"><span class="pre">connect</span></code> command are not part of the available
options.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="server.html" class="btn btn-neutral float-left" title="Server information" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="files.html" class="btn btn-neutral float-right" title="File operations" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2013-2022, Gina Häußge.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: maintenance
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Tags</dt>
      <dd><a href="https://docs.octoprint.org/en/1.7.3/api/connection.html">1.7.3</a></dd>
      <dd><a href="https://docs.octoprint.org/en/1.8.0rc3/api/connection.html">1.8.0rc3</a></dd>
    </dl>
    <dl>
      <dt>Branches</dt>
      <dd><a href="https://docs.octoprint.org/en/master/api/connection.html">master</a></dd>
      <dd><a href="https://docs.octoprint.org/en/maintenance/api/connection.html">maintenance</a></dd>
      <dd><a href="https://docs.octoprint.org/en/devel/api/connection.html">devel</a></dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>