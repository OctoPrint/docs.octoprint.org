<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Setting up a Development environment &mdash; OctoPrint maintenance documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/mermaid.min.js"></script>
        <script>mermaid.initialize({startOnLoad:true});</script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Setting up the virtual printer for debugging" href="virtual_printer.html" />
    <link rel="prev" title="OctoPrint’s branching model" href="branches.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            OctoPrint
          </a>
              <div class="version">
                maintenance
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../features/index.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bundledplugins/index.html">Bundled Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/index.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../events/index.html">Events</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Development</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="versioning.html">OctoPrint’s versioning strategy</a></li>
<li class="toctree-l2"><a class="reference internal" href="branches.html">OctoPrint’s branching model</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Setting up a Development environment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#obtaining-building-and-running-the-source">Obtaining, building and running the source</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#linux">Linux</a></li>
<li class="toctree-l4"><a class="reference internal" href="#windows">Windows</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mac-os-x">Mac OS X</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#sec-development-environment-ides">IDE Setup</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pycharm">PyCharm</a></li>
<li class="toctree-l4"><a class="reference internal" href="#visual-studio-code-vscode">Visual Studio Code (vscode)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="virtual_printer.html">Setting up the virtual printer for debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="request-profiling.html">Profiling requests</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../plugins/index.html">Developing Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/index.html">Internal Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jsclientlib/index.html">JavaScript Client Library</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">OctoPrint</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">


  <p style="padding: 10px;margin: 0 0 10px 0;border-radius: 2px;letter-spacing: 1px;font-size: 13px;color: white;text-align: center;background: #3a87ad;background-image: none;background-size: auto;background-size: 28px 28px;background-image: linear-gradient( -45deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.2) 75%, transparent 75%, transparent );">
    <strong>Note:</strong>
    These are not the docs of the latest released version. Those can be found <a href="https://docs.octoprint.org/en/1.8.7" style="color: white;text-decoration: underline">here</a>.
  </p>


  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Development</a> &raquo;</li>
        
      <li>Setting up a Development environment</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/development/environment.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="setting-up-a-development-environment">
<span id="sec-development-environment"></span><h1>Setting up a Development environment<a class="headerlink" href="#setting-up-a-development-environment" title="Permalink to this headline"></a></h1>
<section id="obtaining-building-and-running-the-source">
<span id="sec-development-environment-source"></span><h2>Obtaining, building and running the source<a class="headerlink" href="#obtaining-building-and-running-the-source" title="Permalink to this headline"></a></h2>
<p>This describes the <strong>general, platform agnostic</strong> steps in obtaining, building and running. OS specific instructions can be found
below.</p>
<blockquote>
<div><ul>
<li><p>Prerequisites:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://python.org">Latest stable Python 3</a> including <code class="docutils literal notranslate"><span class="pre">pip</span></code>, <code class="docutils literal notranslate"><span class="pre">setuptools</span></code> and <code class="docutils literal notranslate"><span class="pre">virtualenv</span></code></p></li>
<li><p><a class="reference external" href="https://git-scm.com">Git</a></p></li>
</ul>
</li>
<li><p>Checkout the OctoPrint sources from their Git repository:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">https://github.com/OctoPrint/OctoPrint.git</span></code></p></li>
</ul>
</div></blockquote>
</li>
<li><p>Enter the checked out source folder: <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">OctoPrint</span></code></p></li>
<li><p>Create a virtual environment in the checked out source folder to use for
installing and running OctoPrint and its dependencies. Creating virtual environments avoids potential versioning
issues for the dependencies with system wide installed instances: <code class="docutils literal notranslate"><span class="pre">virtualenv</span> <span class="pre">--python=python3</span> <span class="pre">venv</span></code></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This assumes that the <code class="docutils literal notranslate"><span class="pre">python3</span></code> binary is available directly on your <code class="docutils literal notranslate"><span class="pre">PATH</span></code>. If
it cannot be found on your <code class="docutils literal notranslate"><span class="pre">PATH</span></code> like this you’ll need to specify the full path here,
e.g. <code class="docutils literal notranslate"><span class="pre">virtualenv</span> <span class="pre">--python=/path/to/python3/bin/python</span> <span class="pre">venv</span></code></p>
</div>
</li>
<li><p>Activate the virtual environment: <code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">venv/bin/activate</span></code> (Linux, macOS) or <code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">venv/Scripts/activate</span></code> (Git Bash under Windows, see below)</p></li>
<li><p>Update <code class="docutils literal notranslate"><span class="pre">pip</span></code> in the virtual environment:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">--upgrade</span> <span class="pre">pip</span></code></p></li>
</ul>
</div></blockquote>
</li>
<li><p>Install OctoPrint in <a class="reference external" href="https://pip.pypa.io/en/stable/reference/pip_install/#editable-installs">“editable” mode</a>,
including its regular <em>and</em> development and plugin development dependencies:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-e</span> <span class="pre">'.[develop,plugins,docs]'</span></code></p></li>
</ul>
</div></blockquote>
</li>
<li><p>Set up the pre-commit hooks that make sure any changes you do adhere to the styling rules:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pre-commit</span> <span class="pre">install</span></code></p></li>
</ul>
</div></blockquote>
</li>
<li><p>Tell <code class="docutils literal notranslate"><span class="pre">git</span></code> where to find the file with revisions to exclude for <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">blame</span></code>:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">config</span> <span class="pre">blame.ignoreRevsFile</span> <span class="pre">.git-blame-ignore-revs</span></code></p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p>When the virtual environment is activated you can then:</p>
<blockquote>
<div><ul class="simple">
<li><p>run the OctoPrint server via <code class="docutils literal notranslate"><span class="pre">octoprint</span> <span class="pre">serve</span></code></p></li>
<li><p>run the test suite from the checked out source folder via <code class="docutils literal notranslate"><span class="pre">pytest</span></code></p></li>
<li><p>trigger the pre-commit check suite manually from the checked out source folder via
<code class="docutils literal notranslate"><span class="pre">pre-commit</span> <span class="pre">run</span> <span class="pre">--hook-stage</span> <span class="pre">manual</span> <span class="pre">--all-files</span></code></p></li>
<li><p>rebuild <code class="docutils literal notranslate"><span class="pre">.css</span></code> files from <code class="docutils literal notranslate"><span class="pre">.less</span></code> sources. See <code class="docutils literal notranslate"><span class="pre">octoprint</span> <span class="pre">dev</span> <span class="pre">css:build</span> <span class="pre">--help</span></code></p></li>
<li><p>build the documentation running <code class="docutils literal notranslate"><span class="pre">sphinx-build</span> <span class="pre">-b</span> <span class="pre">html</span> <span class="pre">.</span> <span class="pre">_build</span></code> in the <code class="docutils literal notranslate"><span class="pre">docs</span></code>
folder – the documentation will be available in the newly created <code class="docutils literal notranslate"><span class="pre">_build</span></code>
directory. You can simply browse it locally by opening <code class="docutils literal notranslate"><span class="pre">index.html</span></code></p></li>
<li><p>check whether there are newer versions of OctoPrint’s dependencies available via
<code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">scan_deps</span></code></p></li>
</ul>
</div></blockquote>
<section id="linux">
<span id="sec-development-environment-source-linux"></span><h3>Linux<a class="headerlink" href="#linux" title="Permalink to this headline"></a></h3>
<p>This assumes you’ll host your OctoPrint development checkout at <code class="docutils literal notranslate"><span class="pre">~/devel/OctoPrint</span></code>. If you want to use a different
location, please substitute accordingly.</p>
<p>First make sure you have python 3 including its header files, pip, setuptools, virtualenv, git and some build requirements
installed:</p>
<blockquote>
<div><ul>
<li><p>On apt based distributions (e.g. Debian, Ubuntu, …):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sudo apt-get install python3 python3-pip python3-dev python3-setuptools python3-virtualenv git libyaml-dev build-essential
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
<p>Then:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd ~/devel
git clone https://github.com/OctoPrint/OctoPrint.git
cd OctoPrint
virtualenv --python=python3 venv
source ./venv/bin/activate
pip install --upgrade pip
pip install -e &#39;.[develop,plugins,docs]&#39;
pre-commit install
git config blame.ignoreRevsFile .git-blame-ignore-revs
</pre></div>
</div>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>Using a Linux distribution that doesn’t use <code class="docutils literal notranslate"><span class="pre">apt</span></code>? Please send a
<a class="reference external" href="https://github.com/OctoPrint/OctoPrint/blob/master/CONTRIBUTING.md#pull-requests">Pull Request</a> to get the necessary
steps into this guide!</p>
</div>
</section>
<section id="windows">
<span id="sec-development-environment-windows"></span><h3>Windows<a class="headerlink" href="#windows" title="Permalink to this headline"></a></h3>
<p>This assumes you’ll host your OctoPrint development checkout at <code class="docutils literal notranslate"><span class="pre">C:\Devel\OctoPrint</span></code>. If you want to use a different
location, please substitute accordingly.</p>
<p>First download &amp; install:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://git-for-windows.github.io/">Git for Windows</a></p></li>
<li><p><a class="reference external" href="https://www.python.org/downloads/windows/">Latest *stable* Python 3 release from python.org</a></p>
<ul>
<li><p>make sure to have the installer add Python to the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> and have it install <code class="docutils literal notranslate"><span class="pre">pip</span></code> too</p></li>
<li><p>it’s recommended to install Python 3 into <code class="docutils literal notranslate"><span class="pre">C:\Python3</span></code> - if you select
different install locations please substitute accordingly</p></li>
<li><p>it’s also recommended to install for all users</p></li>
</ul>
</li>
<li><p><a class="reference external" href="https://visualstudio.microsoft.com/downloads/#build-tools-for-visual-studio-2019">Build Tools For Visual Studio 2019</a></p>
<ul>
<li><p>install “C++ build tools” and ensure the latest versions of “MSVCv142 - VS 2019 C++ x64/x86 build tools” and
“Windows 10 SDK” are checked under individual components.</p></li>
</ul>
</li>
</ul>
</div></blockquote>
<p>Open the Git Bash you just installed and in that:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>pip install virtualenv
cd /c/Devel
git clone https://github.com/OctoPrint/OctoPrint.git
cd OctoPrint
virtualenv --python=C:/Python3/python.exe venv
source ./venv/Scripts/activate
pip install --upgrade pip
python -m pip install -e &#39;.[develop,plugins,docs]&#39;
pre-commit install
git config blame.ignoreRevsFile .git-blame-ignore-revs
</pre></div>
</div>
<section id="optional-but-recommended-tools">
<span id="sec-development-environment-windows-optional"></span><h4>Optional but recommended tools<a class="headerlink" href="#optional-but-recommended-tools" title="Permalink to this headline"></a></h4>
<p>These are some tools that are recommended but not required to have on hand:</p>
<blockquote>
<div><ul>
<li><p><a class="reference external" href="https://code.visualstudio.com/download">Visual Studio Code</a></p></li>
<li><p><a class="reference external" href="https://github.com/microsoft/terminal">Windows Terminal</a></p>
<p>Add the following profile to <code class="docutils literal notranslate"><span class="pre">profiles.list</span></code> in the settings, that will allow you to
easily start Git Bash from the terminal:</p>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="s2">&quot;guid&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;{3df4550c-eebd-496c-a189-e55f2f8b01ce}&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;hidden&quot;</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;name&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Git Bash&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;commandline&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;C:\\Program Files\\Git\\bin\\bash.exe --login -i&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;startingDirectory&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;C:\\Devel&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;tabTitle&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Git Bash&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;suppressApplicationTitle&quot;</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">},</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</section>
</section>
<section id="mac-os-x">
<span id="sec-development-environment-mac"></span><h3>Mac OS X<a class="headerlink" href="#mac-os-x" title="Permalink to this headline"></a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This guide is based on the <a class="reference external" href="https://community.octoprint.org/t/setting-up-octoprint-on-macos/13425">Setup Guide for Mac OS X on OctoPrint’s Community Forum</a>.
Please report back if it works for you, due to lack of access to a Mac I cannot test it myself. Thanks.</p>
</div>
<p>This assumes you’ll host your OctoPrint development checkout at <code class="docutils literal notranslate"><span class="pre">~/devel/OctoPrint</span></code>. If you want to use a different
location, please substitute accordingly.</p>
<p>You’ll need a user account with administrator privileges.</p>
<blockquote>
<div><ul>
<li><p>Install the latest version of Xcode suitable for your OS. For example, OS X 10.11 (El Capitan) requires Xcode 7.</p></li>
<li><p>Install Xcode’s command line tools:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">xcode-select</span> <span class="pre">--install</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">xcodebuild</span></code> (ensure the license was accepted)</p></li>
<li><p>If you have more than one Xcode installed: <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">xcode-select</span> <span class="pre">-s</span> <span class="pre">/Applications/Xcode.app/Contents/Developer</span></code></p></li>
</ul>
</li>
<li><p>Install Homebrew and use that to install Python 3:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ruby</span> <span class="pre">-e</span> <span class="pre">&quot;$(curl</span> <span class="pre">-fsSL</span> <span class="pre">https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">brew</span> <span class="pre">install</span> <span class="pre">python</span></code></p></li>
</ul>
</li>
<li><p>Install <a class="reference external" href="https://pip.pypa.io/en/stable/installation/#supported-methods">pip</a></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">ensurepip</span> <span class="pre">--upgrade</span></code></p></li>
</ul>
</li>
<li><p>Install <a class="reference external" href="https://virtualenv.pypa.io/">virtualenv</a></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">virtualenv</span></code></p></li>
</ul>
</li>
<li><p>Install OctoPrint</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd ~/devel
git clone https://github.com/OctoPrint/OctoPrint.git
cd OctoPrint
virtualenv venv
source venv/bin/activate
pip install --upgrade pip
pip install -e &#39;.[develop,plugins]&#39;
pre-commit install
git config blame.ignoreRevsFile .git-blame-ignore-revs
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
</section>
</section>
<section id="sec-development-environment-ides">
<span id="ide-setup"></span><h2>IDE Setup<a class="headerlink" href="#sec-development-environment-ides" title="Permalink to this headline"></a></h2>
<div class="admonition-todo admonition" id="id3">
<p class="admonition-title">Todo</p>
<p>Using another IDE than the ones below? Please send a
<a class="reference external" href="https://github.com/OctoPrint/OctoPrint/blob/master/CONTRIBUTING.md#pull-requests">Pull Request</a> to get the necessary
steps into this guide!</p>
</div>
<section id="pycharm">
<span id="sec-development-environment-ides-pycharm"></span><h3>PyCharm<a class="headerlink" href="#pycharm" title="Permalink to this headline"></a></h3>
<blockquote>
<div><ul>
<li><p>“File” &gt; “Open …”, select OctoPrint checkout folder (e.g. <code class="docutils literal notranslate"><span class="pre">~/devel/OctoPrint</span></code> or <code class="docutils literal notranslate"><span class="pre">C:\Devel\OctoPrint</span></code>)</p></li>
<li><p>Register virtual environments:</p>
<ul class="simple">
<li><p><strong>(Linux, Windows)</strong> “File” &gt; “Settings …” &gt; “Project: OctoPrint” &gt; “Project Interpreter” &gt; “Add local …”,
select OctoPrint <code class="docutils literal notranslate"><span class="pre">venv</span></code> folder (e.g. <code class="docutils literal notranslate"><span class="pre">~/devel/OctoPrint/venv</span></code> or <code class="docutils literal notranslate"><span class="pre">C:\Devel\OctoPrint\venv</span></code>).</p></li>
<li><p><strong>(macOS)</strong> “PyCharm” &gt; “Preferences …” &gt; “Project: OctoPrint” &gt; “Project Interpreter” &gt; “Add …” &gt;
“Virtualenv Environment &gt; “Existing Environment”, select OctoPrint <code class="docutils literal notranslate"><span class="pre">venv</span></code> folder (e.g. <code class="docutils literal notranslate"><span class="pre">~/devel/OctoPrint/venv</span></code>).</p></li>
</ul>
<p>If desired, repeat for any other additional Python venvs (e.g. for separate Python 3 versions).</p>
</li>
<li><p>Right click “src” in project tree, mark as source folder</p></li>
<li><p>Add Run/Debug Configuration, select “Python”:</p>
<ul>
<li><p>Name: OctoPrint server</p></li>
<li><p>Module name: <code class="docutils literal notranslate"><span class="pre">octoprint</span></code></p></li>
<li><p>Parameters: <code class="docutils literal notranslate"><span class="pre">serve</span> <span class="pre">--debug</span></code></p></li>
<li><p>Project: <code class="docutils literal notranslate"><span class="pre">OctoPrint</span></code></p></li>
<li><p>Python interpreter: Project Default</p></li>
<li><p>Working directory: the OctoPrint checkout folder (e.g. <code class="docutils literal notranslate"><span class="pre">~/devel/OctoPrint</span></code> or <code class="docutils literal notranslate"><span class="pre">C:\Devel\OctoPrint</span></code>)</p></li>
<li><p>If you want build artifacts to be cleaned up on run (recommended): “Before Launch” &gt; “+” &gt; “Run external tool” &gt; “+”</p>
<ul class="simple">
<li><p>Name: Clean build directory</p></li>
<li><p>Program: <code class="docutils literal notranslate"><span class="pre">$ModuleSdkPath$</span></code></p></li>
<li><p>Parameters: <code class="docutils literal notranslate"><span class="pre">setup.py</span> <span class="pre">clean</span></code></p></li>
<li><p>Working directory: <code class="docutils literal notranslate"><span class="pre">$ProjectFileDir$</span></code></p></li>
</ul>
</li>
<li><p>If you want dependencies to auto-update on run if necessary (recommended): “Before Launch” &gt; “+” &gt; “Run external tool” &gt; “+”</p>
<ul class="simple">
<li><p>Name: Update OctoPrint dependencies</p></li>
<li><p>Program: <code class="docutils literal notranslate"><span class="pre">$ModuleSdkPath$</span></code></p></li>
<li><p>Parameters: <code class="docutils literal notranslate"><span class="pre">-m</span> <span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-e</span> <span class="pre">'.[develop,plugins]'</span></code></p></li>
<li><p>Working directory: <code class="docutils literal notranslate"><span class="pre">$ProjectFileDir$</span></code></p></li>
</ul>
<p>Note that sadly that seems to cause some hiccups on current PyCharm versions due to <code class="docutils literal notranslate"><span class="pre">$PyInterpreterDirectory$</span></code>
being empty sometimes, so if this fails to run on your installation, you should update your dependencies manually
for now.</p>
</li>
</ul>
</li>
<li><p>Add Run/Debug Configuration, select “Python tests” and therein “pytest”:</p>
<ul class="simple">
<li><p>Name: OctoPrint tests</p></li>
<li><p>Target: Custom</p></li>
<li><p>Project: <code class="docutils literal notranslate"><span class="pre">OctoPrint</span></code></p></li>
<li><p>Python interpreter: Project Default</p></li>
<li><p>Working directory: the OctoPrint checkout folder (e.g. <code class="docutils literal notranslate"><span class="pre">~/devel/OctoPrint</span></code> or <code class="docutils literal notranslate"><span class="pre">C:\Devel\OctoPrint</span></code>)</p></li>
<li><p>Just like with the run configuration for the server you can also have the dependencies auto-update on run of
the tests, see above on how to set this up.</p></li>
</ul>
</li>
<li><p>Add Run/Debug Configuration, select “Python”:</p>
<ul class="simple">
<li><p>Name: OctoPrint docs</p></li>
<li><p>Module name: <code class="docutils literal notranslate"><span class="pre">sphinx.cmd.build</span></code></p></li>
<li><p>Parameters: <code class="docutils literal notranslate"><span class="pre">-v</span> <span class="pre">-T</span> <span class="pre">-E</span> <span class="pre">./docs</span> <span class="pre">./docs/_build</span> <span class="pre">-b</span> <span class="pre">html</span></code></p></li>
<li><p>Project: <code class="docutils literal notranslate"><span class="pre">OctoPrint</span></code></p></li>
<li><p>Python interpreter: <code class="docutils literal notranslate"><span class="pre">venv</span></code> environment</p></li>
<li><p>Working directory: the OctoPrint checkout folder (e.g. <code class="docutils literal notranslate"><span class="pre">~/devel/OctoPrint</span></code> or <code class="docutils literal notranslate"><span class="pre">C:\Devel\OctoPrint</span></code>)</p></li>
<li><p>Just like with the run configuration for the server you can also have the dependencies auto-update when building
the documentation, see above on how to set this up.</p></li>
</ul>
<p>Note that this requires you to also have installed the additional <code class="docutils literal notranslate"><span class="pre">docs</span></code> dependencies into the Python 3 venv as
described above via <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-e</span> <span class="pre">'.[develop,plugins,docs]'</span></code>.</p>
</li>
<li><p>Settings &gt; Tools &gt; File Watchers (you might have to enable this, it’s a bundled plugin), add new:</p>
<ul class="simple">
<li><p>Name: pre-commit</p></li>
<li><p>File type: Python</p></li>
<li><p>Scope: Module ‘OctoPrint’</p></li>
<li><p>Program: <code class="docutils literal notranslate"><span class="pre">&lt;OctoPrint</span> <span class="pre">venv</span> <span class="pre">folder&gt;/bin/pre-commit</span></code> (Linux) or <code class="docutils literal notranslate"><span class="pre">&lt;OctoPrint</span> <span class="pre">venv</span> <span class="pre">folder&gt;/Scripts/pre-commit</span></code> (Windows)</p></li>
<li><p>Arguments: <code class="docutils literal notranslate"><span class="pre">run</span> <span class="pre">--hook-stage</span> <span class="pre">manual</span> <span class="pre">--files</span> <span class="pre">$FilePath$</span></code></p></li>
<li><p>Output paths to refresh: <code class="docutils literal notranslate"><span class="pre">$FilePath$</span></code></p></li>
<li><p>Working directory: <code class="docutils literal notranslate"><span class="pre">$ProjectFileDir$</span></code></p></li>
<li><p>disable “Auto-save edited files to trigger the watched”</p></li>
<li><p>enable “Trigger the watched on external changes”</p></li>
</ul>
</li>
</ul>
</div></blockquote>
<p>To switch between virtual environments (e.g. Python 3.7 and 3.8), all you need to do now is change the Project Default Interpreter and restart
OctoPrint. On current PyCharm versions you can do that right from a small selection field in the footer of the IDE.
Otherwise go through Settings.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Make sure you are running a PyCharm version of 2016.1 or later, or manually fix
<a class="reference external" href="https://youtrack.jetbrains.com/issue/PY-18365">a debugger bug contained in earlier versions</a> or plugin management
will not work in your developer install when running OctoPrint from PyCharm in debug mode.</p>
</div>
</section>
<section id="visual-studio-code-vscode">
<h3>Visual Studio Code (vscode)<a class="headerlink" href="#visual-studio-code-vscode" title="Permalink to this headline"></a></h3>
<blockquote>
<div><ul>
<li><p>Install Visual Studio Code from <a class="reference external" href="https://code.visualstudio.com/Download">code.visualstudio.com</a></p></li>
<li><p>Open folder select OctoPrint checkout folder (e.g. <code class="docutils literal notranslate"><span class="pre">~/devel/OctoPrint</span></code> or <code class="docutils literal notranslate"><span class="pre">C:\Devel\OctoPrint</span></code>)</p></li>
<li><p>Create a directory <code class="docutils literal notranslate"><span class="pre">.vscode</span></code> if not already present in the root of the project</p></li>
<li><p>Create the following files inside the <code class="docutils literal notranslate"><span class="pre">.vscode</span></code> directory</p>
<dl>
<dt>settings.json</dt><dd><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;python.defaultInterpreterPath&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;venv/bin/python&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;python.formatting.provider&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;black&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;editor.formatOnSave&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;python.sortImports.args&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">&quot;--profile=black&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;[python]&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;editor.codeActionsOnSave&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;source.organizeImports&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;python.linting.pylintEnabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;python.linting.flake8Enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;python.linting.enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
<dt>tasks.json</dt><dd><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0.0&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;tasks&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;clean build artifacts&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;shell&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;python ./setup.py clean&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;build docs&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;shell&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sphinx-build -b html ./docs ./docs/_build&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
<dt>launch.json</dt><dd><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.2.0&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;configurations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;OctoPrint&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;python&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;request&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;launch&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;module&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;octoprint&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;args&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">              </span><span class="s2">&quot;serve&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="s2">&quot;--debug&quot;</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">          </span><span class="nt">&quot;cwd&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;${workspaceFolder}/src&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;preLaunchTask&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;clean build artifacts&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
</dl>
</li>
</ul>
<p>In the terminal install the python extension by running this command:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>code<span class="w"> </span>--install-extension<span class="w"> </span>ms-python.python
</pre></div>
</div>
</div></blockquote>
<p>In vscode terminal, or with venv active install code formatter black and linter flake8 by running:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span>black<span class="w"> </span>flake8<span class="w"> </span>flake8-bugbear
</pre></div>
</div>
</div></blockquote>
<p>Summary of vscode config:</p>
<ul class="simple">
<li><p>Pressing <code class="docutils literal notranslate"><span class="pre">F5</span></code> will now start OctoPrint in debug mode</p></li>
<li><p>Your terminal inside vscode uses the virtual python environment</p></li>
<li><p>Saving a file will run an auto formatter and import sort</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Ctrl+Shift+B</span></code> can be used to run the <code class="docutils literal notranslate"><span class="pre">build</span> <span class="pre">docs</span></code> task to rebuild the documentation</p></li>
</ul>
</div></blockquote>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="branches.html" class="btn btn-neutral float-left" title="OctoPrint’s branching model" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="virtual_printer.html" class="btn btn-neutral float-right" title="Setting up the virtual printer for debugging" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2013-2023, Gina Häußge.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: maintenance
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Tags</dt>
      <dd><a href="https://docs.octoprint.org/en/1.8.7/development/environment.html">1.8.7</a></dd>
      <dd><a href="https://docs.octoprint.org/en/1.9.0rc2/development/environment.html">1.9.0rc2</a></dd>
    </dl>
    <dl>
      <dt>Branches</dt>
      <dd><a href="https://docs.octoprint.org/en/master/development/environment.html">master</a></dd>
      <dd><a href="https://docs.octoprint.org/en/maintenance/development/environment.html">maintenance</a></dd>
      <dd><a href="https://docs.octoprint.org/en/devel/development/environment.html">devel</a></dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>