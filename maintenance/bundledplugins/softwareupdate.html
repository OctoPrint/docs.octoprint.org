


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="pluginmanager.html">
      
      
        <link rel="next" href="uploadmanager.html">
      
      
      <link rel="icon" href="">
    
    
      
        <title>Software Update Plugin - OctoPrint maintenance documentation</title>
      
    
    
      
        
      
      


    
    
      
    
    
      
        
        
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
        <link rel="stylesheet" type="text/css" href="../_static/sphinx_immaterial_theme.96fe8683ff2bd71e9.min.css?v=13adf062" />
        <link rel="stylesheet" type="text/css" href="../_static/theme_overrides.css?v=e85523a8" />
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#first-steps" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
    These are not the docs of the latest released version. Those can be found <a href="/en/master">here</a>.

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL(".."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="OctoPrint maintenance documentation" class="md-header__button md-logo" aria-label="OctoPrint maintenance documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>
    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OctoPrint maintenance documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Software Update Plugin
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/OctoPrint/OctoPrint" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    OctoPrint/OctoPrint
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="OctoPrint maintenance documentation" class="md-nav__button md-logo" aria-label="OctoPrint maintenance documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>
    </a>
    OctoPrint maintenance documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/OctoPrint/OctoPrint" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    OctoPrint/OctoPrint
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../features/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Features
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="index.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Bundled Plugins
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Bundled Plugins
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="action_command_notification.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Action Command Notification support
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="action_command_prompt.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Action Command Prompt support
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="announcements.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Announcement Plugin
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="tracking.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Anonymous Usage Tracking Plugin
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="appkeys.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Application Keys Plugin
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="backup.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Backup Plugin
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="customcontrolmanager.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Custom Control Manager
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="discovery.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Discovery Plugin
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="errortracking.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Error Tracking Plugin
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="file_check.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    File Check
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="firmware_check.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Firmware Check
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="gcodeviewer.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GCode Viewer Plugin
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="logging.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Logging
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="pluginmanager.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Plugin Manager
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Software Update Plugin
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="#" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Software Update Plugin
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#first-steps" class="md-nav__link">
    
    <span class="md-ellipsis">
      First Steps
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-line-usage" class="md-nav__link">
    
    <span class="md-ellipsis">
      Command line usage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-the-plugin" class="md-nav__link">
    
    <span class="md-ellipsis">
      Configuring the Plugin
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuring the Plugin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#version-checks" class="md-nav__link">
    
    <span class="md-ellipsis">
      Version checks
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-methods" class="md-nav__link">
    
    <span class="md-ellipsis">
      Update methods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-configuration-patterns" class="md-nav__link">
    
    <span class="md-ellipsis">
      Common configuration patterns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#global-credentials" class="md-nav__link">
    
    <span class="md-ellipsis">
      Global credentials
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#events" class="md-nav__link">
    
    <span class="md-ellipsis">
      Events
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hooks" class="md-nav__link">
    
    <span class="md-ellipsis">
      Hooks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hooks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#octoprint-plugin-softwareupdate-check-config" class="md-nav__link">
    
    <span class="md-ellipsis">
      octoprint.<wbr>plugin.<wbr>softwareupdate.<wbr>check_<wbr>config
    </span>
  </a>
  
    <nav class="md-nav" aria-label="octoprint.plugin.softwareupdate.check_config">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update_config_hook" class="md-nav__link">
    
      <span aria-label="Python function" class="objinfo-icon objinfo-icon__procedure" title="Python function">F</span>
    
    <span class="md-ellipsis">
      <span title="update_config_hook (Python function) — Returns additional check configurations for the Software Update plugin.">update_<wbr>config_<wbr>hook</span>
    </span>
  </a>
  
    <nav class="md-nav" aria-label="update_config_hook">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update_config_hook-returns" class="md-nav__link">
    
    <span class="md-ellipsis">
      Returns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update_config_hook-return-type" class="md-nav__link">
    
    <span class="md-ellipsis">
      Return type
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#helpers" class="md-nav__link">
    
    <span class="md-ellipsis">
      Helpers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Helpers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sec-bundledplugins-softwareupdate-helpers-version-checks" class="md-nav__link">
    
    <span class="md-ellipsis">
      <span title="sec-bundledplugins-softwareupdate-helpers-version_checks (reference label)">version_<wbr>checks</span>
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updaters" class="md-nav__link">
    
    <span class="md-ellipsis">
      updaters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exceptions" class="md-nav__link">
    
    <span class="md-ellipsis">
      exceptions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#util" class="md-nav__link">
    
    <span class="md-ellipsis">
      util
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#source-code" class="md-nav__link">
    
    <span class="md-ellipsis">
      Source Code
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="uploadmanager.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Upload Manager
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="virtual_printer.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Virtual Printer
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  
  

    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    REST API
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../events/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Events
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Development
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../plugins/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Developing Plugins
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../modules/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Internal Modules
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../jsclientlib/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Java<wbr>Script Client Library
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#first-steps" class="md-nav__link">
    
    <span class="md-ellipsis">
      First Steps
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-line-usage" class="md-nav__link">
    
    <span class="md-ellipsis">
      Command line usage
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-the-plugin" class="md-nav__link">
    
    <span class="md-ellipsis">
      Configuring the Plugin
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuring the Plugin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#version-checks" class="md-nav__link">
    
    <span class="md-ellipsis">
      Version checks
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-methods" class="md-nav__link">
    
    <span class="md-ellipsis">
      Update methods
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-configuration-patterns" class="md-nav__link">
    
    <span class="md-ellipsis">
      Common configuration patterns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#global-credentials" class="md-nav__link">
    
    <span class="md-ellipsis">
      Global credentials
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#events" class="md-nav__link">
    
    <span class="md-ellipsis">
      Events
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hooks" class="md-nav__link">
    
    <span class="md-ellipsis">
      Hooks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hooks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#octoprint-plugin-softwareupdate-check-config" class="md-nav__link">
    
    <span class="md-ellipsis">
      octoprint.<wbr>plugin.<wbr>softwareupdate.<wbr>check_<wbr>config
    </span>
  </a>
  
    <nav class="md-nav" aria-label="octoprint.plugin.softwareupdate.check_config">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update_config_hook" class="md-nav__link">
    
      <span aria-label="Python function" class="objinfo-icon objinfo-icon__procedure" title="Python function">F</span>
    
    <span class="md-ellipsis">
      <span title="update_config_hook (Python function) — Returns additional check configurations for the Software Update plugin.">update_<wbr>config_<wbr>hook</span>
    </span>
  </a>
  
    <nav class="md-nav" aria-label="update_config_hook">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#update_config_hook-returns" class="md-nav__link">
    
    <span class="md-ellipsis">
      Returns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update_config_hook-return-type" class="md-nav__link">
    
    <span class="md-ellipsis">
      Return type
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#helpers" class="md-nav__link">
    
    <span class="md-ellipsis">
      Helpers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Helpers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sec-bundledplugins-softwareupdate-helpers-version-checks" class="md-nav__link">
    
    <span class="md-ellipsis">
      <span title="sec-bundledplugins-softwareupdate-helpers-version_checks (reference label)">version_<wbr>checks</span>
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updaters" class="md-nav__link">
    
    <span class="md-ellipsis">
      updaters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exceptions" class="md-nav__link">
    
    <span class="md-ellipsis">
      exceptions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#util" class="md-nav__link">
    
    <span class="md-ellipsis">
      util
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#source-code" class="md-nav__link">
    
    <span class="md-ellipsis">
      Source Code
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset" role="main">
                
                
                  


<h1 id="software-update-plugin"><span id="sec-bundledplugins-softwareupdate"></span>Software Update Plugin<a class="headerlink" href="#software-update-plugin" title="Link to this heading">¶</a></h1>
<div class="admonition versionadded">
<p class="admonition-title"><span class="versionmodified added">Added in version 1.2.0.</span></p>
</div>
<p>The Software Update Plugin allows receiving notifications about new releases
of OctoPrint or installed plugins which registered with it and – if properly
configured – also applying the found updates.</p>
<p>It comes bundled with OctoPrint.</p>
<h2 id="first-steps"><span id="sec-bundledplugins-softwareupdate-firststeps"></span>First Steps<a class="headerlink" href="#first-steps" title="Link to this heading">¶</a></h2>
<p>Out of the box the Software Update Plugin will be able to notify you of any
updates that might be available for your OctoPrint installation or any plugins
that registered themselves with it. In order for automatic restarts after updates
to work, you should configure the restart commands for OctoPrint and the whole server.</p>
<p>Out of the box the plugin should already be ready to update your OctoPrint installation to current
stable release versions, but you can also switch to one of the available release candidate channels
or outright git commit tracking via the plugin’s configuration dialog. To open this dialog, fire up OctoPrint’s
Settings Dialog, navigate to the Software Update section therein and once you are there click on the little
wrench icon in the upper right corner.</p>
<figure class="align-center" id="id2">
<span id="fig-bundledplugins-softwareupdate-plugin-configuration"></span><img alt="Software Update plugin configuration dialog" src="../_images/bundledplugins-softwareupdate-configuration.png" />
<figcaption>
<p><span class="caption-number">Fig. 22 </span><span class="caption-text"><span class="caption-text">
The Software Update plugin configuration dialog</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></figcaption>
</figure>
<p>There you can adjust the following settings:</p>
<ul class="simple">
<li><p><strong>OctoPrint version tracking</strong>: Whether you want to track OctoPrint <em>releases</em> or every <em>commit</em>. Usually you want to
select “Release” here which is also the default, unless you are a developer.</p></li>
<li><p><strong>Tracked branch</strong> (if tracking is set to “Github Commit”): The branch that will be tracked if you set version tracking to “Github Commit”.</p></li>
<li><p><strong>OctoPrint ``pip`` target</strong> (if tracking is set to “Release” or “Github Commit”): The argument that will be provided to <code class="docutils literal notranslate"><span class="pre">pip</span></code> when updating OctoPrint.
Usually you don’t want to change this from its default value of <code class="docutils literal notranslate"><span class="pre">https://github.com/OctoPrint/OctoPrint/archive/{target_version}.zip</span></code>.</p></li>
<li><p><strong>OctoPrint checkout folder</strong> (if tracking is set to “Local checkout”): This must be the path to OctoPrint’s git checkout folder
(<code class="docutils literal notranslate"><span class="pre">/home/pi/OctoPrint</span></code> for OctoPi or <a class="reference external" href="https://community.octoprint.org/t/setting-up-octoprint-on-a-raspberry-pi-running-raspbian/2337/">manual installs following the Raspberry Pi setup guide</a>).
Note that since OctoPrint 1.3.6 you will no longer need to set this to be able to update to releases, only if you
want to be able to update against some bleeding edge git branch.</p></li>
<li><p><strong>Enable ``pip`` update checks</strong>: Whether to have OctoPrint automatically check for updates of
the <code class="docutils literal notranslate"><span class="pre">pip</span></code> tool that is used for updating most components.</p></li>
<li><p><strong>Version cache TTL</strong>: The “time to live” of the cache OctoPrint will use to temporarily persist the version information
for the various components registered with the plugin, so that they don’t have to be queried from the internet every time
you load the page. Defaults to 24h, you usually shouldn’t need to change that value.</p></li>
<li><p><strong>Show notifications to users</strong>: Whether to display update notifications (without “Update now” button) to users that cannot
apply updates.</p></li>
<li><p><strong>Minimum free disk space</strong>: The minimum amount of free disk space needed in order to allow software updates to be run.</p></li>
</ul>
<p>More settings are available by <a class="reference internal" href="#sec-bundledplugins-softwareupdate-configuration"><span class="std std-ref">editing the corresponding section in config.yaml</span></a>.</p>
<p>Restart commands for OctoPrint and the whole server can be configured under Settings &gt; Server.</p>
<h2 id="command-line-usage"><span id="sec-bundledplugins-softwareupdate-cli"></span>Command line usage<a class="headerlink" href="#command-line-usage" title="Link to this heading">¶</a></h2>
<p>The functionality of the Software Update Plugin is also available on OctoPrint’s command line interface under the
<code class="docutils literal notranslate"><span class="pre">plugins</span></code> sub command. It’s possible to check for updates via <code class="docutils literal notranslate"><span class="pre">octoprint</span> <span class="pre">plugins</span> <span class="pre">softwareupdate:check</span></code>
and to apply available updates via <code class="docutils literal notranslate"><span class="pre">octoprint</span> <span class="pre">plugins</span> <span class="pre">softwareupdate:update</span></code>. Please see the corresponding
<code class="docutils literal notranslate"><span class="pre">--help</span></code> pages for details:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span><code>$ octoprint plugins softwareupdate:check --help
Usage: octoprint plugins softwareupdate:check [OPTIONS] [TARGETS]...

  Check for updates.

  If any TARGETs are provided, only those components will be checked.

  Examples:
  - octoprint plugins softwareupdate:check
      This will check all components for available updates,
      utilizing cached version information.
  - octoprint plugins softwareupdate:check --force
      This will check all components for available updates,
      ignoring any cached version information even if it&#39;s
      still valid.
  - octoprint plugins softwareupdate:check octoprint
      This will only check OctoPrint itself for available
      updates.

Options:
  --force  Ignore the cache for the update check
  --help   Show this message and exit.
</code></pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span><code>$ octoprint plugins softwareupdate:update --help
Usage: octoprint plugins softwareupdate:update [OPTIONS] [TARGETS]...

  Apply updates.

  If any TARGETs are provided, only those components will be updated.

  Examples:
  - octoprint plugins softwareupdate:update
      This will update all components with a pending update
      that can be updated.
  - octoprint plugins softwareupdate:update --force
      This will force an update of all registered components
      that can be updated, even if they don&#39;t have an updated
      pending.
  - octoprint plugins softwareupdate:update octoprint
      This will only update OctoPrint and leave any further
      components with pending updates at their current versions.

Options:
  --force  Update even if already up to date
  --help   Show this message and exit.
</code></pre></div>
</div>
<h2 id="configuring-the-plugin"><span id="sec-bundledplugins-softwareupdate-configuration"></span>Configuring the Plugin<a class="headerlink" href="#configuring-the-plugin" title="Link to this heading">¶</a></h2>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><code><span class="nt">plugins</span><span class="p">:</span>
<span class="w">  </span><span class="nt">softwareupdate</span><span class="p">:</span>
<span class="w">    </span><span class="c1"># configured version check and update methods</span>
<span class="w">    </span><span class="nt">checks</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># &quot;octoprint&quot; is reserved for OctoPrint</span>
<span class="w">      </span><span class="nt">octoprint</span><span class="p">:</span>
<span class="w">        </span><span class="c1"># this defines a version check that will check against releases</span>
<span class="w">        </span><span class="c1"># published on OctoPrint&#39;s Github repository and pip as update method</span>
<span class="w">        </span><span class="c1"># against the release archives on Github - this is the default</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">github_release</span>
<span class="w">        </span><span class="nt">user</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">foosel</span>
<span class="w">        </span><span class="nt">repo</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OctoPrint</span>
<span class="w">        </span><span class="nt">method</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pip</span>
<span class="w">        </span><span class="nt">pip</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;https://github.com/OctoPrint/OctoPrint/archive/{target_version}.zip&#39;</span>

<span class="w">      </span><span class="c1"># further checks may be defined here</span>

<span class="w">    </span><span class="c1"># pip command, if another one than the automatically detected one should be</span>
<span class="w">    </span><span class="c1"># used - should normally NOT be necessary and hence set</span>
<span class="w">    </span><span class="nt">pip_command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/pip</span>

<span class="w">    </span><span class="c1"># the time-to-live of the version cache, in minutes, defaults to 24h</span>
<span class="w">    </span><span class="nt">cache_ttl</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1440</span>

<span class="w">    </span><span class="c1"># whether to show update notifications to users that cannot apply updates</span>
<span class="w">    </span><span class="nt">notify_users</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="w">    </span><span class="c1"># whether to ignore the system throttled state reported by the pisupport plugin and</span>
<span class="w">    </span><span class="c1"># allow updating even when the system is not running stable - really not recommended</span>
<span class="w">    </span><span class="nt">ignore_throttled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>

<span class="w">    </span><span class="c1"># minimum free storage in MB for updates to be enabled</span>
<span class="w">    </span><span class="nt">minimum_free_storage</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">150</span>

<span class="w">    </span><span class="c1"># URL from which to fetch check overlays</span>
<span class="w">    </span><span class="nt">check_overlay_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://plugins.octoprint.org/update_check_overlay.json</span>

<span class="w">    </span><span class="c1"># time to live of the overlay cache, defaults to 6h</span>
<span class="w">    </span><span class="nt">check_overlay_ttl</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">360</span>

<span class="w">    </span><span class="c1"># global credentials to provide to version checks</span>
<span class="w">    </span><span class="nt">credentials</span><span class="p">:</span>

<span class="w">      </span><span class="c1"># GitHub API token to use for the github_release and github_commit version checks.</span>
<span class="w">      </span><span class="c1"># Helpful if you regularly run into rate limit issues with the GitHub API using</span>
<span class="w">      </span><span class="c1"># the default anonymous access. Use a personal access token:</span>
<span class="w">      </span><span class="c1">#   https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token</span>
<span class="w">      </span><span class="c1"># Unset by default</span>
<span class="w">      </span><span class="nt">github</span><span class="p">:</span>

<span class="w">      </span><span class="c1"># Bitbucket user name and password, used by the bitbucket_commit version check if</span>
<span class="w">      </span><span class="c1"># provided, but only if the check doesn&#39;t specify credentials on its own.</span>
<span class="w">      </span><span class="c1"># Unset by default</span>
<span class="w">      </span><span class="nt">bitbucket_user</span><span class="p">:</span>
<span class="w">      </span><span class="nt">bitbucket_password</span><span class="p">:</span>
</code></pre></div>
</div>
<h3 id="version-checks"><span id="sec-bundledplugins-softwareupdate-configuration-versionchecks"></span>Version checks<a class="headerlink" href="#version-checks" title="Link to this heading">¶</a></h3>
<p>Version check types are configured through the <code class="docutils literal notranslate"><span class="pre">type</span></code> parameter. The following
types are currently recognized:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">github_release</span></code>: Checks against releases published on Github. Additional
config parameters:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">user</span></code>: (mandatory) Github user the repository to check belongs to</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">repo</span></code>: (mandatory) Github repository to check</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prerelease</span></code>: <code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code>, default <code class="docutils literal notranslate"><span class="pre">False</span></code>, set to
<code class="docutils literal notranslate"><span class="pre">True</span></code> to also include releases on Github marked as prerelease.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">prerelease_branches</span></code>: Prerelease channel definitions, optional. List of:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">branch</span></code>: Branch associated with the channel, acts as ID</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code>: Human readable name of the release channel</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">commitish</span></code>: List of values to check against <code class="docutils literal notranslate"><span class="pre">target_commitish</span></code>
field in Github release data - release will only be included if the
values match. Defaults to being unset, in which case the <code class="docutils literal notranslate"><span class="pre">branch</span></code>
will be matched.</p></li>
</ul>
<div class="admonition versionadded">
<p class="admonition-title"><span class="versionmodified added">Added in version 1.2.16.</span></p>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">stable_branch</span></code>: Stable channel definition, optional. Structure:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">branch</span></code>: Branch associated with the channel, acts as ID</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">name</span></code>: Human readable name of the release channel</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">commitish</span></code>: List of values to check against <code class="docutils literal notranslate"><span class="pre">target_commitish</span></code>
field in Github release data - release will only be included if the
values match. Defaults to being unset, in which case the <code class="docutils literal notranslate"><span class="pre">branch</span></code>
will be matched.</p></li>
</ul>
<div class="admonition versionadded">
<p class="admonition-title"><span class="versionmodified added">Added in version 1.2.16.</span></p>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">prerelease_channel</span></code>: Release channel to limit updates to. If set only
those releases will be included if their <code class="docutils literal notranslate"><span class="pre">target_commitish</span></code> matches
the ones associated with the release channel identified by this, either
included in <code class="docutils literal notranslate"><span class="pre">prerelease_channels</span></code> or the <code class="docutils literal notranslate"><span class="pre">stable_channel</span></code>. Only
taken into account if <code class="docutils literal notranslate"><span class="pre">prerelease</span></code> is <code class="docutils literal notranslate"><span class="pre">true</span></code>.
.. versionadded:: 1.2.16</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">release_compare</span></code>: Method to use to compare between current version
information and release versions on Github. One of <code class="docutils literal notranslate"><span class="pre">python</span></code> (version
comparison using <code class="docutils literal notranslate"><span class="pre">packaging.version.parse</span></code>, newer version detected
if remote &gt; current), <code class="docutils literal notranslate"><span class="pre">semantic</span></code> (version comparison using
<code class="docutils literal notranslate"><span class="pre">semantic_version</span></code> package, newer version detected if remote &gt; current)
and <code class="docutils literal notranslate"><span class="pre">unequal</span></code> (string comparison, newer version detected if
remote != current).</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">github_commit</span></code>: Checks against commits pushed to Github. Additional
config parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">user</span></code>: (mandatory) Github user the repository to check belongs to</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">repo</span></code>: (mandatory) Github repository to check</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">branch</span></code>: Branch of the Github repository to check, defaults to
<code class="docutils literal notranslate"><span class="pre">master</span></code> if not set.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">current</span></code>: Current commit hash. Will be updated automatically.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">bitbucket_commit</span></code>: Checks against commits pushed to Bitbucket. Additional
config parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">user</span></code>: (mandatory) Bitbucket user the repository to check belongs to</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">repo</span></code>: (mandatory) Bitbucket repository to check</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">branch</span></code>: Branch of the Bitbucket repository to check, defaults to
<code class="docutils literal notranslate"><span class="pre">master</span></code> if not set.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">current</span></code>: Current commit hash. Will be updated automatically.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">api_user</span></code>: (mandatory only for private repositories) Bitbucket user name (not email address).
Requires <code class="docutils literal notranslate"><span class="pre">api_password</span></code> to be set. Hint: This is used for the check only. For the actual
download you might register your public SSH key as access key for the according repo and
configure this as pip URL in <code class="docutils literal notranslate"><span class="pre">config.yaml</span></code>: <code class="docutils literal notranslate"><span class="pre">git+ssh://git&#64;bitbucket.org/my_user/my_repo.git&#64;{target_version}</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">api_password</span></code>: (mandatory only for private repositories) App password. Requires
<code class="docutils literal notranslate"><span class="pre">api_user</span></code> to be set. <strong>Important</strong>: Never use your actual Bitbucket login password. Generate
a new app password. App passwords are user specific on Bitbucket.</p></li>
</ul>
<div class="admonition versionadded">
<p class="admonition-title"><span class="versionmodified added">Added in version 1.3.5.</span></p>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">git_commit</span></code>: Checks a local git repository for new commits on its
configured remote. Additional config parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">checkout_folder</span></code>: (mandatory) The full path to the folder with a valid git
repository to check.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">pypi_release</span></code>: Checks <a class="reference external" href="https://pypi.org">pypi.org</a> for new releases of a specified package. Additional
config parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">package</span></code>: (mandatory) Name of the package which to check.</p></li>
</ul>
<div class="admonition versionadded">
<p class="admonition-title"><span class="versionmodified added">Added in version 1.4.0.</span></p>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">httpheader</span></code>: Checks an HTTP header on a defined URL for changes. This can be used for easy checks
against things like <code class="docutils literal notranslate"><span class="pre">ETag</span></code> or <code class="docutils literal notranslate"><span class="pre">Last-Modified</span></code> headers. Additional
config parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">header_url</span></code> or <code class="docutils literal notranslate"><span class="pre">url</span></code>: (mandatory) URL to check. <code class="docutils literal notranslate"><span class="pre">url</span></code> can be used to avoid duplication in case of updater
methods such as <code class="docutils literal notranslate"><span class="pre">single_file_plugin</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">header_name</span></code>: (mandatory) HTTP header to check, case-insensitive, e.g. <code class="docutils literal notranslate"><span class="pre">ETag</span></code> or <code class="docutils literal notranslate"><span class="pre">Last-Modified</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">header_method</span></code>: HTTP request method to use for the check, defaults to <code class="docutils literal notranslate"><span class="pre">HEAD</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">header_prefix</span></code>: Prefix to use for the obtained value in the version display. If not provided <code class="docutils literal notranslate"><span class="pre">header_name</span></code>
will be used. If set to an empty string, no prefix will be added.</p></li>
</ul>
<div class="admonition versionadded">
<p class="admonition-title"><span class="versionmodified added">Added in version 1.4.1.</span></p>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">jsondata</span></code>: Checks the provided JSON endpoint for changes. The JSON endpoint must return an object with the
property <code class="docutils literal notranslate"><span class="pre">version</span></code>, which should contain the latest version, e.g. <code class="docutils literal notranslate"><span class="pre">{&quot;version&quot;:&quot;1.2.3&quot;}</span></code>. Additional
config parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">jsondata</span></code>: (mandatory) URL from which to fetch the JSON data</p></li>
</ul>
<div class="admonition versionadded">
<p class="admonition-title"><span class="versionmodified added">Added in version 1.4.1.</span></p>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">command_line</span></code>: Uses a provided script to determine whether an update
is available. Additional config parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">command</span></code>: (mandatory) The full path to the script to execute. The script is
expected to return a <code class="docutils literal notranslate"><span class="pre">0</span></code> return code if an update is available and to
return the display name of the available version as the final and
optionally the display name of the current version as the next to final
line on stdout.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">python_checker</span></code>: Can only be specified by plugins through the
<a class="reference internal" href="#sec-bundledplugins-softwareupdate-hooks"><span class="std std-ref">hook</span></a>. Additional config
parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">python_checker</span></code>: (mandatory) A Python callable which returns version
information and whether the current version is up-to-date or not, see
below for details.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">always_current</span></code>: Always reports that no update is necessary. Useful for debugging
software update mechanisms during development. Additional config parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">current_version</span></code>: Version to report for both local and remote version.</p></li>
</ul>
<div class="admonition versionadded">
<p class="admonition-title"><span class="versionmodified added">Added in version 1.3.7.</span></p>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">never_current</span></code>: Always reports that an update is necessary. Useful for debugging
software update mechanisms during development. Additional config parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">local_version</span></code>: Current local version. Defaults to <code class="docutils literal notranslate"><span class="pre">1.0.0</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">remote_version</span></code>: Remote version to offer update to. Defaults to <code class="docutils literal notranslate"><span class="pre">1.0.1</span></code>.</p></li>
</ul>
<div class="admonition versionadded">
<p class="admonition-title"><span class="versionmodified added">Added in version 1.3.7.</span></p>
</div>
</li>
</ul>
<h3 id="update-methods"><span id="sec-bundledplugins-softwareupdate-configuration-updatemethods"></span>Update methods<a class="headerlink" href="#update-methods" title="Link to this heading">¶</a></h3>
<p>Update methods are specified via the <code class="docutils literal notranslate"><span class="pre">method</span></code> parameter. Some update methods are assigned implicitly
through the presence of their mandatory configuration parameters. The following methods are currently
supported:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">pip</span></code>: Update by <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install``ing</span> <span class="pre">the</span> <span class="pre">supplied</span> <span class="pre">URL.</span> <span class="pre">May</span> <span class="pre">contain</span> <span class="pre">a</span>
<span class="pre">placeholder</span> <span class="pre">``{target}</span></code> which will be the most recent version specifier as retrieved from the update check.
Additional config parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pip</span></code>: The URL to use for installing. Presence implies <code class="docutils literal notranslate"><span class="pre">method:</span> <span class="pre">pip</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pip_command</span></code>: The command to use for installing. Defaults to the <code class="docutils literal notranslate"><span class="pre">pip</span></code> instance belong to OctoPrint’s environment.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pip_cwd</span></code>: The working directory to use for installing. Defaults to the current working directory.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">force_reinstall</span></code>: Whether to force reinstallation of the package. Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>. Helpful
for development and version checks that don’t guarantee a Python package version change (e.g. commit based
version checks like <code class="docutils literal notranslate"><span class="pre">git_commit</span></code>, <code class="docutils literal notranslate"><span class="pre">github_commit</span></code>, <code class="docutils literal notranslate"><span class="pre">bitbucket_commit</span></code>).</p></li>
</ul>
<div class="admonition versionchanged">
<p class="admonition-title"><span class="versionmodified changed">Changed in version 1.8.0: </span>Added <code class="docutils literal notranslate"><span class="pre">force_reinstall</span></code> parameter.</p>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">single_file_plugin</span></code>: Update a single file plugin by re-downloading it from a configured URL.
Additional config parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">url</span></code>: (mandatory) The URL from which to install the single file plugin. Must be a single self contained
python file.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">update_script</span></code>: Update by executing a script.
Additional config parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">update_script</span></code>: (mandatory) The path of the script to run. May
contain placeholders <code class="docutils literal notranslate"><span class="pre">{target}</span></code> (for the most recent version specified
as retrieved from the update check), <code class="docutils literal notranslate"><span class="pre">{branch}</span></code> for the branch to switch
to access the release, <code class="docutils literal notranslate"><span class="pre">{folder}</span></code> for the working directory
of the script and <code class="docutils literal notranslate"><span class="pre">{python}</span></code> for the python executable OctoPrint is
running under. Presence implies <code class="docutils literal notranslate"><span class="pre">method:</span> <span class="pre">update_script</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">update_folder</span></code> or <code class="docutils literal notranslate"><span class="pre">checkout_folder</span></code>: (mandatory) The working directory.
<code class="docutils literal notranslate"><span class="pre">checkout_folder</span></code> can be used to avoid duplication in case of check
types such as <code class="docutils literal notranslate"><span class="pre">git_commit</span></code>.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">python_updater</span></code>: Update by executing a custom python callable.
Additional config parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">python_updater</span></code>: (mandatory) Can only be specified by plugins through the
<a class="reference internal" href="#sec-bundledplugins-softwareupdate-hooks"><span class="std std-ref">hook</span></a>. A Python callable
which performs the update, see below for details. Presence implies <code class="docutils literal notranslate"><span class="pre">method:</span> <span class="pre">python_updater</span></code>.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">sleep_a_bit</span></code>: Does nothing but block for a configurable <code class="docutils literal notranslate"><span class="pre">duration</span></code> and log
a countdown in the meantime. Useful for debugging software update mechanisms
during development.</p>
<div class="admonition versionadded">
<p class="admonition-title"><span class="versionmodified added">Added in version 1.3.7.</span></p>
</div>
</li>
</ul>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>To allow default configurations for multiple update methods, if more than one of
the above update method specific settings is set the one to use can be selected
by setting the property <code class="docutils literal notranslate"><span class="pre">method</span></code> to the method specific setting in question.</p>
<p><strong>Example</strong></p>
<p>The following example defines both <code class="docutils literal notranslate"><span class="pre">pip</span></code> and <code class="docutils literal notranslate"><span class="pre">update_script</span></code>. By setting to
<code class="docutils literal notranslate"><span class="pre">method</span></code> to <code class="docutils literal notranslate"><span class="pre">pip</span></code>, the Software Update plugin is instructed to use that as
update method.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><code><span class="nt">plugins</span><span class="p">:</span>
<span class="w">  </span><span class="nt">softwareupdate</span><span class="p">:</span>
<span class="w">    </span><span class="nt">checks</span><span class="p">:</span>
<span class="w">      </span><span class="nt">octoprint</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">github_release</span>
<span class="w">        </span><span class="nt">user</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">foosel</span>
<span class="w">        </span><span class="nt">repo</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OctoPrint</span>
<span class="w">        </span><span class="nt">method</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pip</span>
<span class="w">        </span><span class="nt">pip</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;https://github.com/OctoPrint/OctoPrint/archive/{target_version}.zip&#39;</span>
<span class="w">        </span><span class="nt">update_script</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;{python}</span><span class="nv"> </span><span class="s">&quot;/path/to/octoprint-update.py&quot;</span><span class="nv"> </span><span class="s">--python=&quot;{python}&quot;</span><span class="nv"> </span><span class="s">&quot;{folder}&quot;</span><span class="nv"> </span><span class="s">&quot;{target}&quot;&#39;</span>
<span class="w">        </span><span class="nt">checkout_folder</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/path/to/octoprint/checkout/folder</span>
</code></pre></div>
</div>
</div>
<h3 id="common-configuration-patterns"><span id="sec-bundledplugins-softwareupdate-configuration-patterns"></span>Common configuration patterns<a class="headerlink" href="#common-configuration-patterns" title="Link to this heading">¶</a></h3>
<p>Example for a setup that allows “bleeding edge” updates of OctoPrint under
OctoPi (the <code class="docutils literal notranslate"><span class="pre">update_script</span></code> gets configured correctly automatically by the
plugin itself):</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><code><span class="nt">plugins</span><span class="p">:</span>
<span class="w">  </span><span class="nt">softwareupdate</span><span class="p">:</span>
<span class="w">    </span><span class="nt">checks</span><span class="p">:</span>
<span class="w">      </span><span class="nt">octoprint</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">github_commit</span>
<span class="w">        </span><span class="nt">user</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">foosel</span>
<span class="w">        </span><span class="nt">repo</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OctoPrint</span>
<span class="w">        </span><span class="nt">branch</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">devel</span>
<span class="w">        </span><span class="nt">method</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">update_script</span>
<span class="w">        </span><span class="nt">update_folder</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/home/pi/OctoPrint</span>
</code></pre></div>
</div>
<p>Plugin installed via pip and hosted on Github under
<code class="docutils literal notranslate"><span class="pre">https://github.com/someUser/OctoPrint-SomePlugin</span></code>, only releases should be
tracked:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><code><span class="nt">plugins</span><span class="p">:</span>
<span class="w">  </span><span class="nt">softwareupdate</span><span class="p">:</span>
<span class="w">    </span><span class="nt">checks</span><span class="p">:</span>
<span class="w">      </span><span class="nt">some_plugin</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">github_release</span>
<span class="w">        </span><span class="nt">user</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">someUser</span>
<span class="w">        </span><span class="nt">repo</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OctoPrint-SomePlugin</span>
<span class="w">        </span><span class="nt">pip</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;https://github.com/someUser/OctoPrint-SomePlugin/archive/{target}.zip&#39;</span>
</code></pre></div>
</div>
<p>The same, but declaring three release channels “Stable”, “Maintenance RCs” (tagged on <code class="docutils literal notranslate"><span class="pre">rc/maintenance</span></code> or <code class="docutils literal notranslate"><span class="pre">master</span></code>,
id <code class="docutils literal notranslate"><span class="pre">rc/maintenance</span></code>) and “Devel RCs” (tagged on <code class="docutils literal notranslate"><span class="pre">rc/maintenance</span></code>, <code class="docutils literal notranslate"><span class="pre">rc/devel</span></code> or <code class="docutils literal notranslate"><span class="pre">master</span></code>, id <code class="docutils literal notranslate"><span class="pre">rc/devel</span></code>),
but with “Stable” active:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><code><span class="nt">plugins</span><span class="p">:</span>
<span class="w">  </span><span class="nt">softwareupdate</span><span class="p">:</span>
<span class="w">    </span><span class="nt">checks</span><span class="p">:</span>
<span class="w">      </span><span class="nt">some_plugin</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">github_release</span>
<span class="w">        </span><span class="nt">user</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">someUser</span>
<span class="w">        </span><span class="nt">repo</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OctoPrint-SomePlugin</span>
<span class="w">        </span><span class="nt">stable_branch</span><span class="p">:</span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Stable</span>
<span class="w">          </span><span class="nt">branch</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">master</span>
<span class="w">          </span><span class="nt">commitish</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">master</span>
<span class="w">        </span><span class="nt">prerelease_branches</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Maintenance RCs</span>
<span class="w">          </span><span class="nt">branch</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rc/maintenance</span>
<span class="w">          </span><span class="nt">commitish</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rc/maintenance</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">master</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Devel RCs</span>
<span class="w">          </span><span class="nt">branch</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rc/devel</span>
<span class="w">          </span><span class="nt">commitish</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rc/devel</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rc/maintenance</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">master</span>
<span class="w">        </span><span class="nt">pip</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;https://github.com/someUser/OctoPrint-SomePlugin/archive/{target}.zip&#39;</span>
</code></pre></div>
</div>
<p>And now with “Maintenance RCs” active (note the <code class="docutils literal notranslate"><span class="pre">prerelease</span></code> and <code class="docutils literal notranslate"><span class="pre">prerelease_channel</span></code> settings):</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><code><span class="nt">plugins</span><span class="p">:</span>
<span class="w">  </span><span class="nt">softwareupdate</span><span class="p">:</span>
<span class="w">    </span><span class="nt">checks</span><span class="p">:</span>
<span class="w">      </span><span class="nt">some_plugin</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">github_release</span>
<span class="w">        </span><span class="nt">user</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">someUser</span>
<span class="w">        </span><span class="nt">repo</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OctoPrint-SomePlugin</span>
<span class="w">        </span><span class="nt">stable_branch</span><span class="p">:</span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Stable</span>
<span class="w">          </span><span class="nt">branch</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">master</span>
<span class="w">          </span><span class="nt">commitish</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">master</span>
<span class="w">        </span><span class="nt">prerelease_branches</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Maintenance RCs</span>
<span class="w">          </span><span class="nt">branch</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rc/maintenance</span>
<span class="w">          </span><span class="nt">commitish</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rc/maintenance</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">master</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Devel RCs</span>
<span class="w">          </span><span class="nt">branch</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rc/devel</span>
<span class="w">          </span><span class="nt">commitish</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rc/devel</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rc/maintenance</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">master</span>
<span class="w">        </span><span class="nt">prerelease</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
<span class="w">        </span><span class="nt">prerelease_channel</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rc/maintenance</span>
<span class="w">        </span><span class="nt">pip</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;https://github.com/someUser/OctoPrint-SomePlugin/archive/{target}.zip&#39;</span>
</code></pre></div>
</div>
<p>The same plugin again, but tracking all commits pushed to branch <code class="docutils literal notranslate"><span class="pre">devel</span></code> (thus allowing
“bleeding edge” updates):</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><code><span class="nt">plugins</span><span class="p">:</span>
<span class="w">  </span><span class="nt">softwareupdate</span><span class="p">:</span>
<span class="w">    </span><span class="nt">checks</span><span class="p">:</span>
<span class="w">      </span><span class="nt">some_plugin</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">github_commit</span>
<span class="w">        </span><span class="nt">user</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">someUser</span>
<span class="w">        </span><span class="nt">repo</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OctoPrint-SomePlugin</span>
<span class="w">        </span><span class="nt">branch</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">devel</span>
<span class="w">        </span><span class="nt">pip</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;https://github.com/someUser/OctoPrint-SomePlugin/archive/{target}.zip&#39;</span>
</code></pre></div>
</div>
<p>Single file plugin hosted in a gist <code class="docutils literal notranslate"><span class="pre">https://gist.github.com/someUser/somegist</span></code> and updated whenever there are changes:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><code><span class="nt">plugins</span><span class="p">:</span>
<span class="w">  </span><span class="nt">softwareupdate</span><span class="p">:</span>
<span class="w">    </span><span class="nt">checks</span><span class="p">:</span>
<span class="w">      </span><span class="nt">some_plugin</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">httpheader</span>
<span class="w">        </span><span class="nt">header_name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ETag</span>
<span class="w">        </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;https://gist.github.com/someUser/somegist/raw/some_plugin.py&#39;</span>
<span class="w">        </span><span class="nt">method</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">single_file_plugin</span>
</code></pre></div>
</div>
<p>The same but updated when a <code class="docutils literal notranslate"><span class="pre">version.json</span></code> hosted alongside gets updated with a new version can be found at</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><code><span class="nt">plugins</span><span class="p">:</span>
<span class="w">  </span><span class="nt">softwareupdate</span><span class="p">:</span>
<span class="w">    </span><span class="nt">checks</span><span class="p">:</span>
<span class="w">      </span><span class="nt">some_plugin</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">jsondata</span>
<span class="w">        </span><span class="nt">jsondata</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;https://gist.github.com/someUser/somegist/raw/version.json&#39;</span>
<span class="w">        </span><span class="nt">url</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;https://gist.github.com/someUser/somegist/raw/some_plugin.py&#39;</span>
<span class="w">        </span><span class="nt">method</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">single_file_plugin</span>
</code></pre></div>
</div>
<p>Note that for gist hosted single file plugins, you need to use the “Raw” install link but should remove the
commit identifier. E.g. <code class="docutils literal notranslate"><span class="pre">https://gist.githubusercontent.com/&lt;user&gt;/&lt;gistid&gt;/raw/my_plugin.py</span></code> instead of
<code class="docutils literal notranslate"><span class="pre">https://gist.githubusercontent.com/&lt;user&gt;/&lt;gistid&gt;/raw/&lt;commit&gt;/my_plugin.py</span></code>. Note that these URLs will
be cached by Github for a bit, so an update will not be immediately picked up.</p>
<h3 id="global-credentials"><span id="sec-bundledplugins-softwareupdate-configuration-credentials"></span>Global credentials<a class="headerlink" href="#global-credentials" title="Link to this heading">¶</a></h3>
<div class="admonition versionadded">
<p class="admonition-title"><span class="versionmodified added">Added in version 1.5.0.</span></p>
</div>
<p>Starting with OctoPrint 1.5.0, the Software Update Plugin supports supplying a GitHub
API token to use for the <code class="docutils literal notranslate"><span class="pre">github_release</span></code> and <code class="docutils literal notranslate"><span class="pre">github_commit</span></code> version check types,
to work around possible rate limit problems if a lot of checks are to be made from a single
external IP. You may create a <a class="reference external" href="https://docs.github.com/en/free-pro-team&#64;latest/github/authenticating-to-github/creating-a-personal-access-token">personal access token</a>
and configure that as <code class="docutils literal notranslate"><span class="pre">plugins.softwareupdate.credentials.github</span></code> via
<a class="reference internal" href="../configuration/config_yaml.html#sec-configuration-config-yaml"><span class="std std-ref">config.yaml</span></a> in order to get a higher rate limit than with purely anonymous access.</p>
<p>Additionally, the username and password to use with the <code class="docutils literal notranslate"><span class="pre">bitbucket_commit</span></code> version check
type may also be configured via <code class="docutils literal notranslate"><span class="pre">plugins.softwareupdate.credentials.bitbucket_user</span></code> and
<code class="docutils literal notranslate"><span class="pre">plugins.softwareupdate.credentials.bitbucket_password</span></code> respectively.</p>
<p>None of these configuration options are currently exposed on the UI and can only be used
via <a class="reference internal" href="../configuration/config_yaml.html#sec-configuration-config-yaml"><span class="std std-ref">config.yaml</span></a> or the
<a class="reference internal" href="../configuration/cli.html#sec-configuration-cli"><span class="std std-ref">config command line interface</span></a>.</p>
<h2 id="events"><span id="sec-bundledplugins-softwareupdate-events"></span>Events<a class="headerlink" href="#events" title="Link to this heading">¶</a></h2>
<dl>
<dt>plugin_softwareupdate_update_succeeded</dt><dd><p>An update succeeded.</p>
<p>Payload:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">target</span></code>: update target</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">from_version</span></code>: version from which was updated</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_version</span></code>: version to which was updated</p></li>
</ul>
</dd>
<dt>plugin_softwareupdate_update_failed</dt><dd><p>An update failed.</p>
<p>Payload:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">target</span></code>: update target</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">from_version</span></code>: version from which was updated</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_version</span></code>: version to which was updated</p></li>
</ul>
</dd>
</dl>
<h2 id="hooks"><span id="sec-bundledplugins-softwareupdate-hooks"></span>Hooks<a class="headerlink" href="#hooks" title="Link to this heading">¶</a></h2>
<h3 id="octoprint-plugin-softwareupdate-check-config"><span id="sec-bundledplugins-softwareupdate-hooks-check-config"></span>octoprint.plugin.softwareupdate.check_config<a class="headerlink" href="#octoprint-plugin-softwareupdate-check-config" title="Link to this heading">¶</a></h3>
<dl class="py function objdesc">
<dt class="sig sig-object highlight py" id="update_config_hook">
<span class="sig-name descname"><span class="pre">update_config_hook</span></span><span class="sig-paren">(</span><span class="sig-param-decl"><em class="sig-param"><span class="o"><span class="pre">*</span></span><a class="n reference internal" href="#update_config_hook" title="update_config_hook.args (Python parameter)"><span class="n"><span class="pre">args</span></span></a></em>, </span><span class="sig-param-decl"><em class="sig-param"><span class="o"><span class="pre">**</span></span><a class="n reference internal" href="#update_config_hook" title="update_config_hook.kwargs (Python parameter)"><span class="n"><span class="pre">kwargs</span></span></a></em></span><span class="sig-paren">)</span><a class="headerlink" href="#update_config_hook" title="Link to this definition">¶</a></dt>
<dd><p>Returns additional check configurations for the Software Update plugin.</p>
<p>Handlers should return a Python dict containing one entry per check. Usually
this will probably only be the check configuration for the plugin providing
the handler itself, using the plugin’s identifier as key.</p>
<p>The check configuration must match the format expected in the configuration
(see description above). Handlers may also utilize the <code class="docutils literal notranslate"><span class="pre">python_checker</span></code>
and <code class="docutils literal notranslate"><span class="pre">python_updater</span></code> properties to return Python callables that take care
of performing the version check or the update.</p>
<p><code class="docutils literal notranslate"><span class="pre">python_checker</span></code> is expected to be a callable matching signature and return
value of the <code class="docutils literal notranslate"><span class="pre">get_latest</span></code> methods found in the provided version checkers in
<code class="docutils literal notranslate"><span class="pre">src/octoprint/plugins/softwareupdate/version_checks</span></code>. <code class="docutils literal notranslate"><span class="pre">python_updater</span></code>
is expected to be a callable matching signature and return value of the
<code class="docutils literal notranslate"><span class="pre">perform_update</span></code> methods found in the provided updaters in
<code class="docutils literal notranslate"><span class="pre">src/octoprint/plugins/softwareupdate/updaters</span></code>.</p>
<p><strong>Example</strong></p>
<p>The example single-file-plugin updates itself from Github releases published
at the (fictional) repository <code class="docutils literal notranslate"><span class="pre">https://github.com/someUser/OctoPrint-UpdatePluginDemo</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_update_information</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">updateplugindemo</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
            <span class="n">displayName</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_plugin_name</span><span class="p">,</span>
            <span class="n">displayVersion</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_plugin_version</span><span class="p">,</span>

            <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;github_release&quot;</span><span class="p">,</span>
            <span class="n">current</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_plugin_version</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="s2">&quot;someUser&quot;</span><span class="p">,</span>
            <span class="n">repo</span><span class="o">=</span><span class="s2">&quot;OctoPrint-UpdatePluginDemo&quot;</span><span class="p">,</span>

            <span class="n">pip</span><span class="o">=</span><span class="s2">&quot;https://github.com/someUser/OctoPrint-UpdatePluginDemo/archive/</span><span class="si">{target}</span><span class="s2">.zip&quot;</span>
        <span class="p">)</span>
    <span class="p">)</span>

<span class="n">__plugin_hooks__</span> <span class="o">=</span> <span class="p">{</span>
<span class="s2">&quot;octoprint.plugin.softwareupdate.check_config&quot;</span><span class="p">:</span> <span class="n">get_update_information</span>
<span class="p">}</span>
</code></pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd" id="update_config_hook-returns">Returns<span class="colon">:</span><a class="headerlink" href="#update_config_hook-returns" title="Permalink to this headline">¶</a></dt>
<dd class="field-odd"><p>A dictionary of check configurations as described above</p>
</dd>
<dt class="field-even" id="update_config_hook-return-type">Return type<span class="colon">:</span><a class="headerlink" href="#update_config_hook-return-type" title="Permalink to this headline">¶</a></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)">dict</a></p>
</dd>
</dl>
</dd></dl>

<h2 id="helpers"><span id="sec-bundledplugins-softwareupdate-helpers"></span>Helpers<a class="headerlink" href="#helpers" title="Link to this heading">¶</a></h2>
<h3 id="sec-bundledplugins-softwareupdate-helpers-version-checks"><span id="id1"></span>version_checks<a class="headerlink" href="#sec-bundledplugins-softwareupdate-helpers-version-checks" title="Link to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">version_checks</span></code> module of the Software Update plugin, allows reusing the
bundled version check variants from plugins (e.g. wrapped in a <code class="docutils literal notranslate"><span class="pre">python_checker</span></code>).</p>
<h3 id="updaters"><span id="sec-bundledplugins-softwareupdate-helpers-updaters"></span>updaters<a class="headerlink" href="#updaters" title="Link to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">updaters</span></code> module of the Software Update plugin, allows reusing the bundled
updater variants from plugins (e.g. wrapped in a <code class="docutils literal notranslate"><span class="pre">python_updater</span></code>).</p>
<h3 id="exceptions"><span id="sec-bundledplugins-softwareupdate-helpers-exceptions"></span>exceptions<a class="headerlink" href="#exceptions" title="Link to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">exceptions</span></code> module of the Software Update plugin.</p>
<h3 id="util"><span id="sec-bundledplugins-softwareupdate-helpers-util"></span>util<a class="headerlink" href="#util" title="Link to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">util</span></code> module of the Software Update plugin.</p>
<h2 id="source-code"><span id="sec-bundledplugins-softwareupdate-source"></span>Source Code<a class="headerlink" href="#source-code" title="Link to this heading">¶</a></h2>
<p>The source of the Software Update plugin is bundled with OctoPrint and can be
found in its source repository under <code class="docutils literal notranslate"><span class="pre">src/octoprint/plugins/softwareupdate</span></code>.</p>







  
  






                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="pluginmanager.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Plugin Manager">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Plugin Manager
              </div>
            </div>
          </a>
        
        
          
          <a href="uploadmanager.html" class="md-footer__link md-footer__link--next" aria-label="Next: Upload Manager">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Upload Manager
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  
  
  <div class="md-footer-meta md-typeset">
    
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-footer-copyright__highlight">
        &#169; Copyright 2013-2025, OctoPrint.
        
    </div>
  
    Created using
    <a href="https://www.sphinx-doc.org/" target="_blank" rel="noopener">Sphinx</a>
    8.2.3.
     and
    <a href="https://github.com/jbms/sphinx-immaterial/" target="_blank" rel="noopener">Sphinx-Immaterial</a>
  
</div>
      
    </div>
    
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.expand", "navigation.sections", "navigation.top", "navigation.footer", "search.share", "search.suggest", "toc.follow", "toc.sticky", "content.tabs.link", "content.code.copy", "content.tooltips", "announce.dismiss"], "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike", "staticVersions": null, "versionPath": "../versions.json"}}</script>
    
      
        <script src="../_static/sphinx_immaterial_theme.32136f45f91ae6956.min.js?v=a7a9472a"></script>
        <script data-domain="docs.octoprint.org" defer="defer" src="https://plausible.octoprint.org/js/plausible.js"></script>
    
  </body>
</html>