

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>File operations &mdash; OctoPrint 1.5.0rc1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Job operations" href="job.html" />
    <link rel="prev" title="Connection handling" href="connection.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> OctoPrint
          

          
          </a>

          
            
            
              <div class="version">
                1.5.0rc1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../features/index.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bundledplugins/index.html">Bundled Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration/index.html">Configuration</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">REST API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="general.html">General information</a></li>
<li class="toctree-l2"><a class="reference internal" href="version.html">Version information</a></li>
<li class="toctree-l2"><a class="reference internal" href="server.html">Server information</a></li>
<li class="toctree-l2"><a class="reference internal" href="connection.html">Connection handling</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">File operations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#retrieve-all-files">Retrieve all files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#retrieve-files-from-specific-location">Retrieve files from specific location</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upload-file-or-create-folder">Upload file or create folder</a></li>
<li class="toctree-l3"><a class="reference internal" href="#retrieve-a-specific-file-s-or-folder-s-information">Retrieve a specific file’s or folder’s information</a></li>
<li class="toctree-l3"><a class="reference internal" href="#issue-a-file-command">Issue a file command</a></li>
<li class="toctree-l3"><a class="reference internal" href="#delete-file">Delete file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#data-model">Data model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#retrieve-response">Retrieve response</a></li>
<li class="toctree-l4"><a class="reference internal" href="#upload-response">Upload response</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="job.html">Job operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="languages.html">Languages</a></li>
<li class="toctree-l2"><a class="reference internal" href="logs.html">Log file management</a></li>
<li class="toctree-l2"><a class="reference internal" href="printer.html">Printer operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="printerprofiles.html">Printer profile operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="settings.html">Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="slicing.html">Slicing</a></li>
<li class="toctree-l2"><a class="reference internal" href="system.html">System</a></li>
<li class="toctree-l2"><a class="reference internal" href="timelapse.html">Timelapse</a></li>
<li class="toctree-l2"><a class="reference internal" href="access.html">Access control</a></li>
<li class="toctree-l2"><a class="reference internal" href="util.html">Util</a></li>
<li class="toctree-l2"><a class="reference internal" href="wizard.html">Wizard</a></li>
<li class="toctree-l2"><a class="reference internal" href="push.html">Push updates</a></li>
<li class="toctree-l2"><a class="reference internal" href="datamodel.html">Common data model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../events/index.html">Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/index.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins/index.html">Developing Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/index.html">Internal Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jsclientlib/index.html">JavaScript Client Library</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">OctoPrint</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">


  <p style="padding: 10px;margin: 0 0 10px 0;border-radius: 2px;letter-spacing: 1px;font-size: 13px;color: white;text-align: center;background: #3a87ad;background-image: none;background-size: auto;background-size: 28px 28px;background-image: linear-gradient( -45deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.2) 75%, transparent 75%, transparent );">
    <strong>Note:</strong>
    These are not the docs of the latest released version. Those can be found <a href="https://docs.octoprint.org/en/1.4.2" style="color: white;text-decoration: underline">here</a>.
  </p>


  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">REST API</a> &raquo;</li>
        
      <li>File operations</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/files.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="file-operations">
<span id="sec-api-fileops"></span><h1><a class="toc-backref" href="#id1">File operations</a><a class="headerlink" href="#file-operations" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#file-operations" id="id1">File operations</a></p>
<ul>
<li><p><a class="reference internal" href="#retrieve-all-files" id="id2">Retrieve all files</a></p></li>
<li><p><a class="reference internal" href="#retrieve-files-from-specific-location" id="id3">Retrieve files from specific location</a></p></li>
<li><p><a class="reference internal" href="#upload-file-or-create-folder" id="id4">Upload file or create folder</a></p></li>
<li><p><a class="reference internal" href="#retrieve-a-specific-file-s-or-folder-s-information" id="id5">Retrieve a specific file’s or folder’s information</a></p></li>
<li><p><a class="reference internal" href="#issue-a-file-command" id="id6">Issue a file command</a></p></li>
<li><p><a class="reference internal" href="#delete-file" id="id7">Delete file</a></p></li>
<li><p><a class="reference internal" href="#data-model" id="id8">Data model</a></p>
<ul>
<li><p><a class="reference internal" href="#retrieve-response" id="id9">Retrieve response</a></p></li>
<li><p><a class="reference internal" href="#upload-response" id="id10">Upload response</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="retrieve-all-files">
<span id="sec-api-fileops-retrieveall"></span><h2><a class="toc-backref" href="#id2">Retrieve all files</a><a class="headerlink" href="#retrieve-all-files" title="Permalink to this headline">¶</a></h2>
<dl class="http get">
<dt id="get--api-files">
<code class="sig-name descname">GET </code><code class="sig-name descname">/api/files</code><a class="headerlink" href="#get--api-files" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve information regarding all files currently available and regarding the disk space still available
locally in the system.</p>
<p>By default only returns the files and folders in the root directory. If the query parameter <code class="docutils literal notranslate"><span class="pre">recursive</span></code>
is provided and set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, returns all files and folders.</p>
<p>Returns a <a class="reference internal" href="#sec-api-fileops-datamodel-retrieveresponse"><span class="std std-ref">Retrieve response</span></a>.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">FILES_LIST</span></code> permission.</p>
<p><strong>Example 1</strong>:</p>
<p>Fetch only the files and folders from the root folder.</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/api/files</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">example.com</span>
<span class="na">X-Api-Key</span><span class="o">:</span> <span class="l">abcdef...</span>
</pre></div>
</div>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
  <span class="nt">&quot;files&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;whistle_v2.gcode&quot;</span><span class="p">,</span>
      <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;whistle_v2.gcode&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;machinecode&quot;</span><span class="p">,</span>
      <span class="nt">&quot;typePath&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;machinecode&quot;</span><span class="p">,</span> <span class="s2">&quot;gcode&quot;</span><span class="p">],</span>
      <span class="nt">&quot;hash&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
      <span class="nt">&quot;size&quot;</span><span class="p">:</span> <span class="mi">1468987</span><span class="p">,</span>
      <span class="nt">&quot;date&quot;</span><span class="p">:</span> <span class="mi">1378847754</span><span class="p">,</span>
      <span class="nt">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
      <span class="nt">&quot;refs&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/api/files/local/whistle_v2.gcode&quot;</span><span class="p">,</span>
        <span class="nt">&quot;download&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/downloads/files/local/whistle_v2.gcode&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;gcodeAnalysis&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;estimatedPrintTime&quot;</span><span class="p">:</span> <span class="mi">1188</span><span class="p">,</span>
        <span class="nt">&quot;filament&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;length&quot;</span><span class="p">:</span> <span class="mi">810</span><span class="p">,</span>
          <span class="nt">&quot;volume&quot;</span><span class="p">:</span> <span class="mf">5.36</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="nt">&quot;print&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;failure&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="nt">&quot;success&quot;</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span>
        <span class="nt">&quot;last&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;date&quot;</span><span class="p">:</span> <span class="mi">1387144346</span><span class="p">,</span>
          <span class="nt">&quot;success&quot;</span><span class="p">:</span> <span class="kc">true</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;whistle_.gco&quot;</span><span class="p">,</span>
      <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;whistle_.gco&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;machinecode&quot;</span><span class="p">,</span>
      <span class="nt">&quot;typePath&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;machinecode&quot;</span><span class="p">,</span> <span class="s2">&quot;gcode&quot;</span><span class="p">],</span>
      <span class="nt">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;sdcard&quot;</span><span class="p">,</span>
      <span class="nt">&quot;refs&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/api/files/sdcard/whistle_.gco&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;folderA&quot;</span><span class="p">,</span>
      <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;folderA&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;folder&quot;</span><span class="p">,</span>
      <span class="nt">&quot;typePath&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;folder&quot;</span><span class="p">],</span>
      <span class="nt">&quot;children&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;whistle_v2_copy.gcode&quot;</span><span class="p">,</span>
          <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;whistle_v2_copy.gcode&quot;</span><span class="p">,</span>
          <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;machinecode&quot;</span><span class="p">,</span>
          <span class="nt">&quot;typePath&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;machinecode&quot;</span><span class="p">,</span> <span class="s2">&quot;gcode&quot;</span><span class="p">],</span>
          <span class="nt">&quot;hash&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
          <span class="nt">&quot;size&quot;</span><span class="p">:</span> <span class="mi">1468987</span><span class="p">,</span>
          <span class="nt">&quot;date&quot;</span><span class="p">:</span> <span class="mi">1378847754</span><span class="p">,</span>
          <span class="nt">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
          <span class="nt">&quot;refs&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/api/files/local/folderA/whistle_v2_copy.gcode&quot;</span><span class="p">,</span>
            <span class="nt">&quot;download&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/downloads/files/local/folderA/whistle_v2_copy.gcode&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;gcodeAnalysis&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;estimatedPrintTime&quot;</span><span class="p">:</span> <span class="mi">1188</span><span class="p">,</span>
            <span class="nt">&quot;filament&quot;</span><span class="p">:</span> <span class="p">{</span>
              <span class="nt">&quot;length&quot;</span><span class="p">:</span> <span class="mi">810</span><span class="p">,</span>
              <span class="nt">&quot;volume&quot;</span><span class="p">:</span> <span class="mf">5.36</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="nt">&quot;print&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;failure&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
            <span class="nt">&quot;success&quot;</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span>
            <span class="nt">&quot;last&quot;</span><span class="p">:</span> <span class="p">{</span>
              <span class="nt">&quot;date&quot;</span><span class="p">:</span> <span class="mi">1387144346</span><span class="p">,</span>
              <span class="nt">&quot;success&quot;</span><span class="p">:</span> <span class="kc">true</span>
            <span class="p">}</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&quot;free&quot;</span><span class="p">:</span> <span class="s2">&quot;3.2GB&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Example 2</strong></p>
<p>Recursively fetch all files and folders.</p>
<p>Fetch only the files and folders from the root folder.</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/api/files?recursive=true</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">example.com</span>
<span class="na">X-Api-Key</span><span class="o">:</span> <span class="l">abcdef...</span>
</pre></div>
</div>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
  <span class="nt">&quot;files&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;whistle_v2.gcode&quot;</span><span class="p">,</span>
      <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;whistle_v2.gcode&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;machinecode&quot;</span><span class="p">,</span>
      <span class="nt">&quot;typePath&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;machinecode&quot;</span><span class="p">,</span> <span class="s2">&quot;gcode&quot;</span><span class="p">],</span>
      <span class="nt">&quot;hash&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
      <span class="nt">&quot;size&quot;</span><span class="p">:</span> <span class="mi">1468987</span><span class="p">,</span>
      <span class="nt">&quot;date&quot;</span><span class="p">:</span> <span class="mi">1378847754</span><span class="p">,</span>
      <span class="nt">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
      <span class="nt">&quot;refs&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/api/files/local/whistle_v2.gcode&quot;</span><span class="p">,</span>
        <span class="nt">&quot;download&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/downloads/files/local/whistle_v2.gcode&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;gcodeAnalysis&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;estimatedPrintTime&quot;</span><span class="p">:</span> <span class="mi">1188</span><span class="p">,</span>
        <span class="nt">&quot;filament&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;length&quot;</span><span class="p">:</span> <span class="mi">810</span><span class="p">,</span>
          <span class="nt">&quot;volume&quot;</span><span class="p">:</span> <span class="mf">5.36</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="nt">&quot;print&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;failure&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="nt">&quot;success&quot;</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span>
        <span class="nt">&quot;last&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;date&quot;</span><span class="p">:</span> <span class="mi">1387144346</span><span class="p">,</span>
          <span class="nt">&quot;success&quot;</span><span class="p">:</span> <span class="kc">true</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;whistle_.gco&quot;</span><span class="p">,</span>
      <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;whistle_.gco&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;machinecode&quot;</span><span class="p">,</span>
      <span class="nt">&quot;typePath&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;machinecode&quot;</span><span class="p">,</span> <span class="s2">&quot;gcode&quot;</span><span class="p">],</span>
      <span class="nt">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;sdcard&quot;</span><span class="p">,</span>
      <span class="nt">&quot;refs&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/api/files/sdcard/whistle_.gco&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;folderA&quot;</span><span class="p">,</span>
      <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;folderA&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;folder&quot;</span><span class="p">,</span>
      <span class="nt">&quot;typePath&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;folder&quot;</span><span class="p">],</span>
      <span class="nt">&quot;children&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;test.gcode&quot;</span><span class="p">,</span>
          <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;folderA/test.gcode&quot;</span><span class="p">,</span>
          <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;machinecode&quot;</span><span class="p">,</span>
          <span class="nt">&quot;typePath&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;machinecode&quot;</span><span class="p">,</span> <span class="s2">&quot;gcode&quot;</span><span class="p">],</span>
          <span class="nt">&quot;hash&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
          <span class="nt">&quot;size&quot;</span><span class="p">:</span> <span class="mi">1234</span><span class="p">,</span>
          <span class="nt">&quot;date&quot;</span><span class="p">:</span> <span class="mi">1378847754</span><span class="p">,</span>
          <span class="nt">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
          <span class="nt">&quot;refs&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/api/files/local/folderA/test.gcode&quot;</span><span class="p">,</span>
            <span class="nt">&quot;download&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/downloads/files/local/folderA/test.gcode&quot;</span>
          <span class="p">}</span>
        <span class="p">},</span>
        <span class="p">{</span>
          <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;subfolder&quot;</span><span class="p">,</span>
          <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;folderA/subfolder&quot;</span><span class="p">,</span>
          <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;folder&quot;</span><span class="p">,</span>
          <span class="nt">&quot;typePath&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;folder&quot;</span><span class="p">],</span>
          <span class="nt">&quot;children&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
              <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;test.gcode&quot;</span><span class="p">,</span>
              <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;folderA/subfolder/test2.gcode&quot;</span><span class="p">,</span>
              <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;machinecode&quot;</span><span class="p">,</span>
              <span class="nt">&quot;typePath&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;machinecode&quot;</span><span class="p">,</span> <span class="s2">&quot;gcode&quot;</span><span class="p">],</span>
              <span class="nt">&quot;hash&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
              <span class="nt">&quot;size&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
              <span class="nt">&quot;date&quot;</span><span class="p">:</span> <span class="mi">1378847754</span><span class="p">,</span>
              <span class="nt">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
              <span class="nt">&quot;refs&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/api/files/local/folderA/subfolder/test2.gcode&quot;</span><span class="p">,</span>
                <span class="nt">&quot;download&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/downloads/files/local/folderA/subfolder/test2.gcode&quot;</span>
              <span class="p">}</span>
            <span class="p">},</span>
          <span class="p">],</span>
          <span class="nt">&quot;size&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
          <span class="nt">&quot;refs&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/api/files/local/folderA/subfolder&quot;</span><span class="p">,</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">],</span>
      <span class="nt">&quot;size&quot;</span><span class="p">:</span> <span class="mi">1334</span><span class="p">,</span>
      <span class="nt">&quot;refs&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/api/files/local/folderA&quot;</span><span class="p">,</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&quot;free&quot;</span><span class="p">:</span> <span class="s2">&quot;3.2GB&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>recursive</strong> – If set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, return all files and folders recursively. Otherwise only return items on same level.</p></li>
</ul>
</dd>
<dt class="field-even">Status Codes</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a> – No error</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="retrieve-files-from-specific-location">
<span id="sec-api-fileops-retrievelocation"></span><h2><a class="toc-backref" href="#id3">Retrieve files from specific location</a><a class="headerlink" href="#retrieve-files-from-specific-location" title="Permalink to this headline">¶</a></h2>
<dl class="http get">
<dt id="get--api-files-(string-location)">
<code class="sig-name descname">GET </code><code class="sig-name descname">/api/files/</code><span class="sig-paren">(</span><em class="property">string: </em><em class="sig-param">location</em><span class="sig-paren">)</span><a class="headerlink" href="#get--api-files-(string-location)" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve information regarding the files currently available on the selected <cite>location</cite> and – if targeting
the <code class="docutils literal notranslate"><span class="pre">local</span></code> location – regarding the disk space still available locally in the system.</p>
<p>By default only returns the files and folders in the root directory. If the query parameter <code class="docutils literal notranslate"><span class="pre">recursive</span></code>
is provided and set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, returns all files and folders.</p>
<p>Returns a <a class="reference internal" href="#sec-api-fileops-datamodel-retrieveresponse"><span class="std std-ref">Retrieve response</span></a>.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">FILES_LIST</span></code> permission.</p>
<p><strong>Example</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/api/files/local</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">example.com</span>
<span class="na">X-Api-Key</span><span class="o">:</span> <span class="l">abcdef...</span>
</pre></div>
</div>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
  <span class="nt">&quot;files&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;whistle_v2.gcode&quot;</span><span class="p">,</span>
      <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;whistle_v2.gcode&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;machinecode&quot;</span><span class="p">,</span>
      <span class="nt">&quot;typePath&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;machinecode&quot;</span><span class="p">,</span> <span class="s2">&quot;gcode&quot;</span><span class="p">],</span>
      <span class="nt">&quot;hash&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
      <span class="nt">&quot;size&quot;</span><span class="p">:</span> <span class="mi">1468987</span><span class="p">,</span>
      <span class="nt">&quot;date&quot;</span><span class="p">:</span> <span class="mi">1378847754</span><span class="p">,</span>
      <span class="nt">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
      <span class="nt">&quot;refs&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/api/files/local/whistle_v2.gcode&quot;</span><span class="p">,</span>
        <span class="nt">&quot;download&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/downloads/files/local/whistle_v2.gcode&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;gcodeAnalysis&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;estimatedPrintTime&quot;</span><span class="p">:</span> <span class="mi">1188</span><span class="p">,</span>
        <span class="nt">&quot;filament&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;length&quot;</span><span class="p">:</span> <span class="mi">810</span><span class="p">,</span>
          <span class="nt">&quot;volume&quot;</span><span class="p">:</span> <span class="mf">5.36</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="nt">&quot;print&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;failure&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="nt">&quot;success&quot;</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span>
        <span class="nt">&quot;last&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;date&quot;</span><span class="p">:</span> <span class="mi">1387144346</span><span class="p">,</span>
          <span class="nt">&quot;success&quot;</span><span class="p">:</span> <span class="kc">true</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">&quot;free&quot;</span><span class="p">:</span> <span class="s2">&quot;3.2GB&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>location</strong> – The origin location from which to retrieve the files. Currently only <code class="docutils literal notranslate"><span class="pre">local</span></code> and <code class="docutils literal notranslate"><span class="pre">sdcard</span></code> are
supported, with <code class="docutils literal notranslate"><span class="pre">local</span></code> referring to files stored in OctoPrint’s <code class="docutils literal notranslate"><span class="pre">uploads</span></code> folder and <code class="docutils literal notranslate"><span class="pre">sdcard</span></code>
referring to files stored on the printer’s SD card (if available).</p></li>
<li><p><strong>recursive</strong> – If set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, return all files and folders recursively. Otherwise only return items on same level.</p></li>
</ul>
</dd>
<dt class="field-even">Status Codes</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a> – No error</p></li>
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.5">404 Not Found</a> – If <cite>location</cite> is neither <code class="docutils literal notranslate"><span class="pre">local</span></code> nor <code class="docutils literal notranslate"><span class="pre">sdcard</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="upload-file-or-create-folder">
<span id="sec-api-fileops-uploadfile"></span><h2><a class="toc-backref" href="#id4">Upload file or create folder</a><a class="headerlink" href="#upload-file-or-create-folder" title="Permalink to this headline">¶</a></h2>
<dl class="http post">
<dt id="post--api-files-(string-location)">
<code class="sig-name descname">POST </code><code class="sig-name descname">/api/files/</code><span class="sig-paren">(</span><em class="property">string: </em><em class="sig-param">location</em><span class="sig-paren">)</span><a class="headerlink" href="#post--api-files-(string-location)" title="Permalink to this definition">¶</a></dt>
<dd><p>Upload a file to the selected <code class="docutils literal notranslate"><span class="pre">location</span></code> or create a new empty folder on it.</p>
<p>Other than most of the other requests on OctoPrint’s API which are expected as JSON, this request is expected as
<code class="docutils literal notranslate"><span class="pre">Content-Type:</span> <span class="pre">multipart/form-data</span></code> due to the included file upload. A <code class="docutils literal notranslate"><span class="pre">Content-Length</span></code> header specifying
the full length of the request body is required as well.</p>
<p>To upload a file, the request body must at least contain the <code class="docutils literal notranslate"><span class="pre">file</span></code> form field with the
contents and file name of the file to upload.</p>
<p>To create a new folder, the request body must at least contain the <code class="docutils literal notranslate"><span class="pre">foldername</span></code> form field,
specifying the name of the new folder. Note that folder creation is currently only supported on
the <code class="docutils literal notranslate"><span class="pre">local</span></code> file system.</p>
<p>Returns a <a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.2">201 Created</a> response with a <code class="docutils literal notranslate"><span class="pre">Location</span></code> header set to the management URL of the uploaded
file and an <a class="reference internal" href="#sec-api-fileops-datamodel-uploadresponse"><span class="std std-ref">Upload Response</span></a> as the body upon successful completion.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">FILES_UPLOAD</span></code> permission.</p>
<p><strong>Example for uploading a file</strong></p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/api/files/sdcard</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">example.com</span>
<span class="na">X-Api-Key</span><span class="o">:</span> <span class="l">abcdef...</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">multipart/form-data; boundary=----WebKitFormBoundaryDeC2E3iWbTv1PwMC</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">430</span>

------WebKitFormBoundaryDeC2E3iWbTv1PwMC
Content-Disposition: form-data; name=&quot;file&quot;; filename=&quot;whistle_v2.gcode&quot;
Content-Type: application/octet-stream

M109 T0 S220.000000
T0
G21
G90

------WebKitFormBoundaryDeC2E3iWbTv1PwMC
Content-Disposition: form-data; name=&quot;select&quot;

true
------WebKitFormBoundaryDeC2E3iWbTv1PwMC
Content-Disposition: form-data; name=&quot;print&quot;

true
------WebKitFormBoundaryDeC2E3iWbTv1PwMC--
</pre></div>
</div>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Location</span><span class="o">:</span> <span class="l">http://example.com/api/files/sdcard/whistle_v2.gcode</span>

<span class="p">{</span>
  <span class="nt">&quot;files&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;local&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;whistle_v2.gcode&quot;</span><span class="p">,</span>
      <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;whistle_v2.gcode&quot;</span><span class="p">,</span>
      <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;machinecode&quot;</span><span class="p">,</span>
      <span class="nt">&quot;typePath&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;machinecode&quot;</span><span class="p">,</span> <span class="s2">&quot;gcode&quot;</span><span class="p">],</span>
      <span class="nt">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
      <span class="nt">&quot;refs&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/api/files/local/whistle_v2.gcode&quot;</span><span class="p">,</span>
        <span class="nt">&quot;download&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/downloads/files/local/whistle_v2.gcode&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="nt">&quot;sdcard&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;whistle_.gco&quot;</span><span class="p">,</span>
      <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;whistle_.gco&quot;</span><span class="p">,</span>
      <span class="nt">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;sdcard&quot;</span><span class="p">,</span>
      <span class="nt">&quot;refs&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/api/files/sdcard/whistle_.gco&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">&quot;done&quot;</span><span class="p">:</span> <span class="kc">false</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Example with UTF-8 encoded filename following RFC 5987</strong></p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/api/files/local</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">example.com</span>
<span class="na">X-Api-Key</span><span class="o">:</span> <span class="l">abcdef...</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">multipart/form-data; boundary=----WebKitFormBoundaryDeC2E3iWbTv1PwMC</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">263</span>

------WebKitFormBoundaryDeC2E3iWbTv1PwMC
Content-Disposition: form-data; name=&quot;file&quot;; filename*=utf-8&#39;&#39;20mm-%C3%BCml%C3%A4ut-b%C3%B6x.gcode
Content-Type: application/octet-stream

M109 T0 S220.000000
T0
G21
G90

------WebKitFormBoundaryDeC2E3iWbTv1PwMC--
</pre></div>
</div>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Location</span><span class="o">:</span> <span class="l">http://example.com/api/files/local/20mm-umlaut-box.gcode</span>

<span class="p">{</span>
  <span class="nt">&quot;files&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;local&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;20mm-umlaut-box&quot;</span><span class="p">,</span>
      <span class="nt">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
      <span class="nt">&quot;refs&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/api/files/local/whistle_v2.gcode&quot;</span><span class="p">,</span>
        <span class="nt">&quot;download&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/downloads/files/local/whistle_v2.gcode&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">&quot;done&quot;</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Example for creating a folder</strong></p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/api/files/local</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">example.com</span>
<span class="na">X-Api-Key</span><span class="o">:</span> <span class="l">abcdef...</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">multipart/form-data; boundary=----WebKitFormBoundaryDeC2E3iWbTv1PwMD</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">246</span>

------WebKitFormBoundaryDeC2E3iWbTv1PwMD
Content-Disposition: form-data; name=&quot;foldername&quot;

subfolder
------WebKitFormBoundaryDeC2E3iWbTv1PwMD
Content-Disposition: form-data; name=&quot;path&quot;

folder/
------WebKitFormBoundaryDeC2E3iWbTv1PwMD--
</pre></div>
</div>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Location</span><span class="o">:</span> <span class="l">http://example.com/api/files/local/folder/subfolder</span>

<span class="p">{</span>
  <span class="nt">&quot;folder&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;subfolder&quot;</span><span class="p">,</span>
    <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;folder/subfolder&quot;</span><span class="p">,</span>
    <span class="nt">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;done&quot;</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>location</strong> – The target location to which to upload the file. Currently only <code class="docutils literal notranslate"><span class="pre">local</span></code> and <code class="docutils literal notranslate"><span class="pre">sdcard</span></code> are supported
here, with <code class="docutils literal notranslate"><span class="pre">local</span></code> referring to OctoPrint’s <code class="docutils literal notranslate"><span class="pre">uploads</span></code> folder and <code class="docutils literal notranslate"><span class="pre">sdcard</span></code> referring to
the printer’s SD card. If an upload targets the SD card, it will also be stored locally first.</p></li>
</ul>
</dd>
<dt class="field-even">Form Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>file</strong> – The file to upload, including a valid <code class="docutils literal notranslate"><span class="pre">filename</span></code>.</p></li>
<li><p><strong>path</strong> – The path within the <code class="docutils literal notranslate"><span class="pre">location</span></code> to upload the file to or create the folder in (without the future
filename or <code class="docutils literal notranslate"><span class="pre">foldername</span></code> - basically the parent folder). If unset will be taken from the provided
<code class="docutils literal notranslate"><span class="pre">file</span></code>’s name or <code class="docutils literal notranslate"><span class="pre">foldername</span></code> and default to the root folder of the <code class="docutils literal notranslate"><span class="pre">location</span></code>.</p></li>
<li><p><strong>select</strong> – Whether to select the file directly after upload (<code class="docutils literal notranslate"><span class="pre">true</span></code>) or not (<code class="docutils literal notranslate"><span class="pre">false</span></code>). Optional, defaults
to <code class="docutils literal notranslate"><span class="pre">false</span></code>. Ignored when creating a folder.</p></li>
<li><p><strong>print</strong> – Whether to start printing the file directly after upload (<code class="docutils literal notranslate"><span class="pre">true</span></code>) or not (<code class="docutils literal notranslate"><span class="pre">false</span></code>). If set, <code class="docutils literal notranslate"><span class="pre">select</span></code>
is implicitly <code class="docutils literal notranslate"><span class="pre">true</span></code> as well. Optional, defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>. Ignored when creating a folder.</p></li>
<li><p><strong>userdata</strong> – [Optional] An optional string that if specified will be interpreted as JSON and then saved along
with the file as metadata (metadata key <code class="docutils literal notranslate"><span class="pre">userdata</span></code>). Ignored when creating a folder.</p></li>
<li><p><strong>foldername</strong> – The name of the folder to create. Ignored when uploading a file.</p></li>
</ul>
</dd>
<dt class="field-odd">Status Codes</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.2">201 Created</a> – No error</p></li>
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.1">400 Bad Request</a> – If no <code class="docutils literal notranslate"><span class="pre">file</span></code> or <code class="docutils literal notranslate"><span class="pre">foldername</span></code> are included in the request, <code class="docutils literal notranslate"><span class="pre">userdata</span></code> was provided but could
not be parsed as JSON or the request is otherwise invalid.</p></li>
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.5">404 Not Found</a> – If <code class="docutils literal notranslate"><span class="pre">location</span></code> is neither <code class="docutils literal notranslate"><span class="pre">local</span></code> nor <code class="docutils literal notranslate"><span class="pre">sdcard</span></code> or trying to upload to SD card and SD card support
is disabled</p></li>
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.10">409 Conflict</a> – If the upload of the file would override the file that is currently being printed or if an upload
to SD card was requested and the printer is either not operational or currently busy with a print job.</p></li>
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.16">415 Unsupported Media Type</a> – If the file is neither a <code class="docutils literal notranslate"><span class="pre">gcode</span></code> nor an <code class="docutils literal notranslate"><span class="pre">stl</span></code> file (or it is an <code class="docutils literal notranslate"><span class="pre">stl</span></code> file but slicing support
is disabled)</p></li>
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.5.1">500 Internal Server Error</a> – If the upload failed internally</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="retrieve-a-specific-file-s-or-folder-s-information">
<span id="sec-api-fileops-retrievefileinfo"></span><h2><a class="toc-backref" href="#id5">Retrieve a specific file’s or folder’s information</a><a class="headerlink" href="#retrieve-a-specific-file-s-or-folder-s-information" title="Permalink to this headline">¶</a></h2>
<dl class="http get">
<dt id="get--api-files-(string-location)-(path-filename)">
<code class="sig-name descname">GET </code><code class="sig-name descname">/api/files/</code><span class="sig-paren">(</span><em class="property">string: </em><em class="sig-param">location</em><span class="sig-paren">)</span><code class="sig-name descname">/</code><span class="sig-paren">(</span><em class="property">path: </em><em class="sig-param">filename</em><span class="sig-paren">)</span><a class="headerlink" href="#get--api-files-(string-location)-(path-filename)" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves the selected file’s or folder’s information.</p>
<p>If the file is unknown, a <a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.5">404 Not Found</a> is returned.</p>
<p>If the targeted path is a folder, by default only its direct children will be returned. If <code class="docutils literal notranslate"><span class="pre">recursive</span></code> is
provided and set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, all sub folders and their children will be returned too.</p>
<p>On success, a <a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a> is returned, with a <a class="reference internal" href="datamodel.html#sec-api-datamodel-files-file"><span class="std std-ref">file information item</span></a>
as the response body.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">FILES_LIST</span></code> permission.</p>
<p><strong>Example</strong></p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/api/files/local/whistle_v2.gcode</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">example.com</span>
<span class="na">X-Api-Key</span><span class="o">:</span> <span class="l">abcdef...</span>
</pre></div>
</div>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;whistle_v2.gcode&quot;</span><span class="p">,</span>
  <span class="nt">&quot;size&quot;</span><span class="p">:</span> <span class="mi">1468987</span><span class="p">,</span>
  <span class="nt">&quot;date&quot;</span><span class="p">:</span> <span class="mi">1378847754</span><span class="p">,</span>
  <span class="nt">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
  <span class="nt">&quot;refs&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/api/files/local/whistle_v2.gcode&quot;</span><span class="p">,</span>
    <span class="nt">&quot;download&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/downloads/files/local/whistle_v2.gcode&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;gcodeAnalysis&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;estimatedPrintTime&quot;</span><span class="p">:</span> <span class="mi">1188</span><span class="p">,</span>
    <span class="nt">&quot;filament&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;length&quot;</span><span class="p">:</span> <span class="mi">810</span><span class="p">,</span>
      <span class="nt">&quot;volume&quot;</span><span class="p">:</span> <span class="mf">5.36</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">&quot;print&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;failure&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="nt">&quot;success&quot;</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span>
    <span class="nt">&quot;last&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;date&quot;</span><span class="p">:</span> <span class="mi">1387144346</span><span class="p">,</span>
      <span class="nt">&quot;success&quot;</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>location</strong> – The location of the file for which to retrieve the information, either <code class="docutils literal notranslate"><span class="pre">local</span></code> or <code class="docutils literal notranslate"><span class="pre">sdcard</span></code>.</p></li>
<li><p><strong>filename</strong> – The filename of the file for which to retrieve the information</p></li>
<li><p><strong>recursive</strong> – If set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, return all files and folders recursively. Otherwise only return items on same level.</p></li>
</ul>
</dd>
<dt class="field-even">Status Codes</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a> – No error</p></li>
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.5">404 Not Found</a> – If <code class="docutils literal notranslate"><span class="pre">target</span></code> is neither <code class="docutils literal notranslate"><span class="pre">local</span></code> nor <code class="docutils literal notranslate"><span class="pre">sdcard</span></code>, <code class="docutils literal notranslate"><span class="pre">sdcard</span></code> but SD card support is disabled or the
requested file was not found</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="issue-a-file-command">
<span id="sec-api-fileops-filecommand"></span><h2><a class="toc-backref" href="#id6">Issue a file command</a><a class="headerlink" href="#issue-a-file-command" title="Permalink to this headline">¶</a></h2>
<dl class="http post">
<dt id="post--api-files-(string-location)-(path-path)">
<code class="sig-name descname">POST </code><code class="sig-name descname">/api/files/</code><span class="sig-paren">(</span><em class="property">string: </em><em class="sig-param">location</em><span class="sig-paren">)</span><code class="sig-name descname">/</code><span class="sig-paren">(</span><em class="property">path: </em><em class="sig-param">path</em><span class="sig-paren">)</span><a class="headerlink" href="#post--api-files-(string-location)-(path-path)" title="Permalink to this definition">¶</a></dt>
<dd><p>Issue a file command to an existing file. Currently supported commands are:</p>
<dl>
<dt>select</dt><dd><p>Selects a file for printing. Additional parameters are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">print</span></code>: Optional, if set to <code class="docutils literal notranslate"><span class="pre">true</span></code> the file will start printing directly after selection. If the printer
is not operational when this parameter is present and set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, the request will fail with a response
of <code class="docutils literal notranslate"><span class="pre">409</span> <span class="pre">Conflict</span></code>.</p></li>
</ul>
<p>Upon success, a status code of <a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.5">204 No Content</a> and an empty body is returned. If there already is an
active print job, a <a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.10">409 Conflict</a> is returned.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">FILES_SELECT</span></code> permission.</p>
</dd>
<dt>slice</dt><dd><p>Slices an STL file into GCODE. Note that this is an asynchronous operation that will take place in the background
after the response has been sent back to the client. Additional parameters are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">slicer</span></code>: The slicing engine to use, defaults to <code class="docutils literal notranslate"><span class="pre">cura</span></code> if not set, which is also the only supported slicer right now.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gcode</span></code>: Name of the GCODE file to generated, in the same location as the STL file. Defaults to the STL file name
with extension <code class="docutils literal notranslate"><span class="pre">.gco</span></code> if not set.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">position</span></code>: Position of the object-to-slice’s center on the print bed. A dictionary containing both <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>
coordinate in mm is expected</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">printerProfile</span></code>: Name of the printer profile to use, if not set the default printer profile will be used.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">profile</span></code>: Name of the slicing profile to use, if not set the default slicing profile of the slicer will be used.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">profile.*</span></code>: Override parameters, the <code class="docutils literal notranslate"><span class="pre">profile.</span></code> prefix will be stripped and the matching profile key will
be overridden with the supplied value. Use this if you want to specify things that change often like a different
temperature, filament diameter or infill percentage. Profile keys are slicer specific.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">select</span></code>: Optional, if set to <code class="docutils literal notranslate"><span class="pre">true</span></code> the file be selected for printing right after the slicing has finished. If the
printer is not operational or already printing when this parameter is present and set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, the request will
fail with a response of <code class="docutils literal notranslate"><span class="pre">409</span> <span class="pre">Conflict</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">print</span></code>: Optional, if set to <code class="docutils literal notranslate"><span class="pre">true</span></code> the file be selected and start printing right after the slicing has finished.
If the printer is not operational or already printing when this parameter is present and set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, the request
will fail with a response of <code class="docutils literal notranslate"><span class="pre">409</span> <span class="pre">Conflict</span></code>. Note that if this parameter is set, the parameter <code class="docutils literal notranslate"><span class="pre">select</span></code> does not
need to be set, it is automatically assumed to be <code class="docutils literal notranslate"><span class="pre">true</span></code> too, otherwise no printing would be possible.</p></li>
</ul>
<p>If consecutive slicing calls are made targeting the same GCODE filename (that also holds true if the default is used),
the slicing job already running in the background will be cancelled before the new one is started. Note that this will
also mean that if it was supposed to be directly selected and start printing after the slicing finished, this will not
take place anymore and whether this will happen with the new sliced file depends entirely on the new request!</p>
<p>Upon success, a status code of <a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.3">202 Accepted</a> and a <a class="reference internal" href="datamodel.html#sec-api-datamodel-files-fileabridged"><span class="std std-ref">Abridged file or folder information</span></a> in the response
body will be returned.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">SLICE</span></code> permission.</p>
</dd>
<dt>copy</dt><dd><p>Copies the file or folder to a new <code class="docutils literal notranslate"><span class="pre">destination</span></code> on the same <code class="docutils literal notranslate"><span class="pre">location</span></code>. Additional parameters are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">destination</span></code>: The path of the parent folder to which to copy the file or folder. It must already exist.</p></li>
</ul>
<p>If there already exists a file or folder of the same name at <code class="docutils literal notranslate"><span class="pre">destination</span></code>, the request will return a <a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.10">409 Conflict</a>.
If the <code class="docutils literal notranslate"><span class="pre">destination</span></code> folder does not exist, a <a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.5">404 Not Found</a> will be returned.</p>
<p>Upon success, a status code of <a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.2">201 Created</a> and a <a class="reference internal" href="datamodel.html#sec-api-datamodel-files-fileabridged"><span class="std std-ref">Abridged file or folder information</span></a> in the response
body will be returned.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">FILES_UPLOAD</span></code> permission.</p>
</dd>
<dt>move</dt><dd><p>Moves the file or folder to a new <code class="docutils literal notranslate"><span class="pre">destination</span></code> on the same <code class="docutils literal notranslate"><span class="pre">location</span></code>. Additional parameters are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">destination</span></code>: The path of the parent folder to which to move the file or folder.</p></li>
</ul>
<p>If there already exists a file or folder of the same name at <code class="docutils literal notranslate"><span class="pre">destination</span></code>, the request will return a <a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.10">409 Conflict</a>.
If the <code class="docutils literal notranslate"><span class="pre">destination</span></code> folder does not exist, a <a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.5">404 Not Found</a> will be returned. If the <code class="docutils literal notranslate"><span class="pre">path</span></code> is currently
in use by OctoPrint (e.g. it is a GCODE file that’s currently being printed) a <a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.10">409 Conflict</a> will be
returned.</p>
<p>Upon success, a status code of <a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.2">201 Created</a> and a <a class="reference internal" href="datamodel.html#sec-api-datamodel-files-fileabridged"><span class="std std-ref">Abridged file or folder information</span></a> in the response
body will be returned.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">FILES_UPLOAD</span></code> permission.</p>
</dd>
</dl>
<p><strong>Example Select Request</strong></p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/api/files/local/whistle_v2.gcode</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">example.com</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">X-Api-Key</span><span class="o">:</span> <span class="l">abcdef...</span>

<span class="p">{</span>
  <span class="nt">&quot;command&quot;</span><span class="p">:</span> <span class="s2">&quot;select&quot;</span><span class="p">,</span>
  <span class="nt">&quot;print&quot;</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
</pre></div>
</div>
<p><strong>Example Slice Request</strong></p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/api/files/local/some_folder/some_model.stl</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">example.com</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">X-Api-Key</span><span class="o">:</span> <span class="l">abcdef...</span>

<span class="p">{</span>
  <span class="nt">&quot;command&quot;</span><span class="p">:</span> <span class="s2">&quot;slice&quot;</span><span class="p">,</span>
  <span class="nt">&quot;slicer&quot;</span><span class="p">:</span> <span class="s2">&quot;cura&quot;</span><span class="p">,</span>
  <span class="nt">&quot;gcode&quot;</span><span class="p">:</span> <span class="s2">&quot;some_model.first_try.gcode&quot;</span><span class="p">,</span>
  <span class="nt">&quot;printerProfile&quot;</span><span class="p">:</span> <span class="s2">&quot;my_custom_reprap&quot;</span><span class="p">,</span>
  <span class="nt">&quot;profile&quot;</span><span class="p">:</span> <span class="s2">&quot;high_quality&quot;</span><span class="p">,</span>
  <span class="nt">&quot;profile.infill&quot;</span><span class="p">:</span> <span class="mi">75</span><span class="p">,</span>
  <span class="nt">&quot;profile.fill_density&quot;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span>
  <span class="nt">&quot;position&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;x&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="nt">&quot;y&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">},</span>
  <span class="nt">&quot;print&quot;</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
  <span class="nt">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;some_model.first_try.gcode&quot;</span><span class="p">,</span>
  <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;some_folder/some_model.first_try.gcode&quot;</span><span class="p">,</span>
  <span class="nt">&quot;refs&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;download&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/downloads/files/local/some_folder/some_model.first_try.gcode&quot;</span><span class="p">,</span>
    <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/api/files/local/some_folder/some_model.first_try.gcode&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Example Copy Request</strong></p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/api/files/local/some_folder/some_model.gcode</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">example.com</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">X-Api-Key</span><span class="o">:</span> <span class="l">abcdef...</span>

<span class="p">{</span>
  <span class="nt">&quot;command&quot;</span><span class="p">:</span> <span class="s2">&quot;copy&quot;</span><span class="p">,</span>
  <span class="nt">&quot;destination&quot;</span><span class="p">:</span> <span class="s2">&quot;some_other_folder/subfolder&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
  <span class="nt">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;some_model.gcode&quot;</span><span class="p">,</span>
  <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;some_other_folder/subfolder/some_model.gcode&quot;</span><span class="p">,</span>
  <span class="nt">&quot;refs&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;download&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/downloads/files/local/some_other_folder/subfolder/some_model.gcode&quot;</span><span class="p">,</span>
    <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/api/files/local/some_other_folder/subfolder/some_model.gcode&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Example Move Request</strong></p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/api/files/local/some_folder/and_a_subfolder</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">example.com</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">X-Api-Key</span><span class="o">:</span> <span class="l">abcdef...</span>

<span class="p">{</span>
  <span class="nt">&quot;command&quot;</span><span class="p">:</span> <span class="s2">&quot;move&quot;</span><span class="p">,</span>
  <span class="nt">&quot;destination&quot;</span><span class="p">:</span> <span class="s2">&quot;some_other_folder&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
  <span class="nt">&quot;origin&quot;</span><span class="p">:</span> <span class="s2">&quot;local&quot;</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;and_a_subfolder&quot;</span><span class="p">,</span>
  <span class="nt">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;some_other_folder/and_a_subfolder&quot;</span><span class="p">,</span>
  <span class="nt">&quot;refs&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;resource&quot;</span><span class="p">:</span> <span class="s2">&quot;http://example.com/api/files/local/some_other_folder/and_a_subfolder&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>location</strong> – The target location on which to send the command for is located, either <code class="docutils literal notranslate"><span class="pre">local</span></code> (for OctoPrint’s <code class="docutils literal notranslate"><span class="pre">uploads</span></code>
folder) or <code class="docutils literal notranslate"><span class="pre">sdcard</span></code> for the printer’s SD card (if available)</p></li>
<li><p><strong>path</strong> – The path of the file for which to issue the command</p></li>
</ul>
</dd>
<dt class="field-even">JSON Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>command</strong> (<em>string</em>) – The command to issue for the file, currently only <code class="docutils literal notranslate"><span class="pre">select</span></code> is supported</p></li>
<li><p><strong>print</strong> (<em>boolean</em>) – <code class="docutils literal notranslate"><span class="pre">select</span></code> and <code class="docutils literal notranslate"><span class="pre">slice</span></code> command: Optional, whether to start printing the file directly after selection
or slicing, defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>slicer</strong> (<em>string</em>) – <code class="docutils literal notranslate"><span class="pre">slice</span></code> command: The slicer to use, defaults to the default slicer.</p></li>
<li><p><strong>gcode</strong> (<em>string</em>) – <code class="docutils literal notranslate"><span class="pre">slice</span></code> command: The name of the gcode file to create, defaults to the targeted stl’s file name
with its extension changed to <code class="docutils literal notranslate"><span class="pre">.gco</span></code> (e.g. “test.stl” will be sliced to “test.gco” if not specified
otherwise)</p></li>
<li><p><strong>profile</strong> (<em>string</em>) – <code class="docutils literal notranslate"><span class="pre">slice</span></code> command: The slicing profile to use, defaults to the selected slicer’s default profile.</p></li>
<li><p><strong>profile.*</strong> (<em>string</em>) – <code class="docutils literal notranslate"><span class="pre">slice</span></code> command: Overrides for the selected slicing profile, e.g. to specify a different temperature
or filament diameter.</p></li>
<li><p><strong>printerProfile</strong> (<em>string</em>) – <code class="docutils literal notranslate"><span class="pre">slice</span></code> command: The printer profile to use, defaults to the default printer profile.</p></li>
<li><p><strong>select</strong> (<em>boolean</em>) – <code class="docutils literal notranslate"><span class="pre">slice</span></code> command: Optional, whether to select the file for printing directly after slicing,
defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code></p></li>
</ul>
</dd>
<dt class="field-odd">Status Codes</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a> – No error for a <code class="docutils literal notranslate"><span class="pre">select</span></code> command.</p></li>
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.3">202 Accepted</a> – No error for a <code class="docutils literal notranslate"><span class="pre">slice</span></code> command.</p></li>
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.1">400 Bad Request</a> – If the <code class="docutils literal notranslate"><span class="pre">command</span></code> is unknown or the request is otherwise invalid</p></li>
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.16">415 Unsupported Media Type</a> – If a <code class="docutils literal notranslate"><span class="pre">slice</span></code> command was issued against something other than an STL file.</p></li>
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.5">404 Not Found</a> – If <code class="docutils literal notranslate"><span class="pre">location</span></code> is neither <code class="docutils literal notranslate"><span class="pre">local</span></code> nor <code class="docutils literal notranslate"><span class="pre">sdcard</span></code> or the requested file was not found</p></li>
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.10">409 Conflict</a> – If a selected file is supposed to start printing directly but the printer is not operational
or if a file is to be selected but the printer is already printing or
if a file to be sliced is supposed to be selected or start printing directly but the printer
is not operational or already printing.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="delete-file">
<span id="sec-api-fileops-delete"></span><h2><a class="toc-backref" href="#id7">Delete file</a><a class="headerlink" href="#delete-file" title="Permalink to this headline">¶</a></h2>
<dl class="http delete">
<dt id="delete--api-files-(string-location)-(path-path)">
<code class="sig-name descname">DELETE </code><code class="sig-name descname">/api/files/</code><span class="sig-paren">(</span><em class="property">string: </em><em class="sig-param">location</em><span class="sig-paren">)</span><code class="sig-name descname">/</code><span class="sig-paren">(</span><em class="property">path: </em><em class="sig-param">path</em><span class="sig-paren">)</span><a class="headerlink" href="#delete--api-files-(string-location)-(path-path)" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the selected <code class="docutils literal notranslate"><span class="pre">path</span></code> on the selected <code class="docutils literal notranslate"><span class="pre">location</span></code>.</p>
<p>If the file to be deleted is currently being printed, a <a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.10">409 Conflict</a> will be returned.</p>
<p>Returns a <a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.5">204 No Content</a> after successful deletion.</p>
<p>Requires the <code class="docutils literal notranslate"><span class="pre">FILES_DELETE</span></code> permission.</p>
<p><strong>Example Request</strong></p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">DELETE</span> <span class="nn">/api/files/local/whistle_v2.gcode</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">example.com</span>
<span class="na">X-Api-Key</span><span class="o">:</span> <span class="l">abcdef...</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>location</strong> – The target location on which to delete the file, either <code class="docutils literal notranslate"><span class="pre">local</span></code> (for OctoPrint’s <code class="docutils literal notranslate"><span class="pre">uploads</span></code>
folder) or <code class="docutils literal notranslate"><span class="pre">sdcard</span></code> for the printer’s SD card (if available)</p></li>
<li><p><strong>path</strong> – The path of the file to delete</p></li>
</ul>
</dd>
<dt class="field-even">Status Codes</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.5">204 No Content</a> – No error</p></li>
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.5">404 Not Found</a> – If <code class="docutils literal notranslate"><span class="pre">location</span></code> is neither <code class="docutils literal notranslate"><span class="pre">local</span></code> nor <code class="docutils literal notranslate"><span class="pre">sdcard</span></code> or the requested file was not found</p></li>
<li><p><a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.10">409 Conflict</a> – If the file to be deleted is currently being printed</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="data-model">
<span id="sec-api-fileops-datamodel"></span><h2><a class="toc-backref" href="#id8">Data model</a><a class="headerlink" href="#data-model" title="Permalink to this headline">¶</a></h2>
<div class="section" id="retrieve-response">
<span id="sec-api-fileops-datamodel-retrieveresponse"></span><h3><a class="toc-backref" href="#id9">Retrieve response</a><a class="headerlink" href="#retrieve-response" title="Permalink to this headline">¶</a></h3>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 8%" />
<col style="width: 17%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Multiplicity</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">files</span></code></p></td>
<td><p>0..*</p></td>
<td><p>Array of <a class="reference internal" href="datamodel.html#sec-api-datamodel-files-file"><span class="std std-ref">File information items</span></a></p></td>
<td><p>The list of requested files. Might be an empty list if no files are available</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">free</span></code></p></td>
<td><p>0..1</p></td>
<td><p>String</p></td>
<td><p>The amount of disk space in bytes available in the local disk space (refers to OctoPrint’s <code class="docutils literal notranslate"><span class="pre">uploads</span></code> folder). Only
returned if file list was requested for origin <code class="docutils literal notranslate"><span class="pre">local</span></code> or all origins.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="upload-response">
<span id="sec-api-fileops-datamodel-uploadresponse"></span><h3><a class="toc-backref" href="#id10">Upload response</a><a class="headerlink" href="#upload-response" title="Permalink to this headline">¶</a></h3>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 8%" />
<col style="width: 17%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Multiplicity</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">files</span></code></p></td>
<td><p>0..1</p></td>
<td><p>Object</p></td>
<td><p>Abridged information regarding the file that was just uploaded. If only uploaded to <code class="docutils literal notranslate"><span class="pre">local</span></code> this will only
contain the <code class="docutils literal notranslate"><span class="pre">local</span></code> property. If uploaded to SD card, this will contain both <code class="docutils literal notranslate"><span class="pre">local</span></code> and <code class="docutils literal notranslate"><span class="pre">sdcard</span></code> properties.
Only contained if a file was uploaded, not present if only a new folder was created.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">files.local</span></code></p></td>
<td><p>1</p></td>
<td><p><a class="reference internal" href="datamodel.html#sec-api-datamodel-files-fileabridged"><span class="std std-ref">Abridged file or folder information</span></a></p></td>
<td><p>The information regarding the file that was just uploaded to the local storage.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">files.sdcard</span></code></p></td>
<td><p>0..1</p></td>
<td><p><a class="reference internal" href="datamodel.html#sec-api-datamodel-files-fileabridged"><span class="std std-ref">Abridged file or folder information</span></a></p></td>
<td><p>The information regarding the file that was just uploaded to the printer’s SD card.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">folder</span></code></p></td>
<td><p>0..1</p></td>
<td><p><a class="reference internal" href="datamodel.html#sec-api-datamodel-files-fileabridged"><span class="std std-ref">Abridged file or folder information</span></a></p></td>
<td><p>Abridged information regarding the folder that was just created. Only contained if a folder
was created, not present if a file was uploaded.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">done</span></code></p></td>
<td><p>1</p></td>
<td><p>Boolean</p></td>
<td><p>Whether any file processing after upload has already finished (<code class="docutils literal notranslate"><span class="pre">true</span></code>) or not, e.g. due to first needing
to perform a slicing step (<code class="docutils literal notranslate"><span class="pre">false</span></code>). Clients may use this information to direct progress displays related to
the upload.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="job.html" class="btn btn-neutral float-right" title="Job operations" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="connection.html" class="btn btn-neutral float-left" title="Connection handling" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2013-2020, Gina Häußge

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: 1.5.0rc1
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Tags</dt>
      <dd><a href="https://docs.octoprint.org/en/1.3.12/api/files.html">1.3.12</a></dd>
      <dd><a href="https://docs.octoprint.org/en/1.4.2/api/files.html">1.4.2</a></dd>
      <dd><a href="https://docs.octoprint.org/en/1.5.0rc1/api/files.html">1.5.0rc1</a></dd>
    </dl>
    <dl>
      <dt>Branches</dt>
      <dd><a href="https://docs.octoprint.org/en/master/api/files.html">master</a></dd>
      <dd><a href="https://docs.octoprint.org/en/maintenance/api/files.html">maintenance</a></dd>
      <dd><a href="https://docs.octoprint.org/en/devel/api/files.html">devel</a></dd>
    </dl>
  </div>
</div>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>