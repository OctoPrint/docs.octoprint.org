


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="accesscontrol.html">
      
      
        <link rel="next" href="gcode_scripts.html">
      
      
      <link rel="icon" href="">
    
    
      
        <title>Custom Controls - OctoPrint dev documentation</title>
      
    
    
      
        
      
      


    
    
      
    
    
      
        
        
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
        <link rel="stylesheet" type="text/css" href="../_static/sphinx_immaterial_theme.acf80fe7f4d9ef9e2.min.css?v=9e56d0d2" />
        <link rel="stylesheet" type="text/css" href="../_static/autodoc_pydantic.css" />
        <link rel="stylesheet" type="text/css" href="../_static/theme_overrides.css?v=e85523a8" />
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#types" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
    These are not the docs of the latest released version. Those can be found <a href="/en/main">here</a>.

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL(".."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="OctoPrint dev documentation" class="md-header__button md-logo" aria-label="OctoPrint dev documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>
    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OctoPrint dev documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Custom Controls
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/OctoPrint/OctoPrint" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    OctoPrint/OctoPrint
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="OctoPrint dev documentation" class="md-nav__button md-logo" aria-label="OctoPrint dev documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>
    </a>
    OctoPrint dev documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/OctoPrint/OctoPrint" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    OctoPrint/OctoPrint
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../gettingstarted.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    <span>Getting Started</span>
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="index.html" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    <span>Features</span>
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            <span>Features</span>
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="accesscontrol.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    <span>Access Control</span>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    <span>Custom Controls</span>
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="#" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    <span>Custom Controls</span>
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#types" class="md-nav__link">
    
    <span class="md-ellipsis">
      <span>Types</span>
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#containers" class="md-nav__link">
    
    <span class="md-ellipsis">
      <span>Containers</span>
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controls" class="md-nav__link">
    
    <span class="md-ellipsis">
      <span>Controls</span>
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    
    <span class="md-ellipsis">
      <span>Examples</span>
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameterized-gcode-script" class="md-nav__link">
    
    <span class="md-ellipsis">
      <span>Parameterized GCODE Script</span>
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="gcode_scripts.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    <span>GCODE Scripts</span>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="action_commands.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    <span>Action Commands</span>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="atcommands.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    <span>@ Commands</span>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="plugins.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    <span>Plugins</span>
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
  
    <li class="md-nav__item">
      <a href="safemode.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    <span>Safe mode</span>
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  
  

    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../bundledplugins/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    <span>Bundled Plugins</span>
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    <span>Configuration</span>
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    <span>REST API</span>
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../events/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    <span>Events</span>
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    <span>Development</span>
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../plugins/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    <span>Developing Plugins</span>
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../modules/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    <span>Internal Modules</span>
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
  
    <li class="md-nav__item">
      <a href="../jsclientlib/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    <span>Java<wbr>Script Client Library</span>
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#types" class="md-nav__link">
    
    <span class="md-ellipsis">
      <span>Types</span>
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#containers" class="md-nav__link">
    
    <span class="md-ellipsis">
      <span>Containers</span>
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controls" class="md-nav__link">
    
    <span class="md-ellipsis">
      <span>Controls</span>
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    
    <span class="md-ellipsis">
      <span>Examples</span>
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameterized-gcode-script" class="md-nav__link">
    
    <span class="md-ellipsis">
      <span>Parameterized GCODE Script</span>
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset" role="main">
                
                
                  


<h1 id="custom-controls"><span id="sec-features-custom-controls"></span>Custom Controls<a class="headerlink" href="#custom-controls" title="Link to this heading">¶</a></h1>
<p>OctoPrint allows you to add custom controls to the “Control” tab of its interface. Control types reach from simple
buttons which trigger sending of one or more lines of GCODE to the printer over more complex controls allowing
parameterization of these commands with values entered by the user to full blown GCODE script templates backed by
<a class="reference external" href="http://jinja.pocoo.org/">Jinja2</a>.</p>
<p>Custom controls are configured within <a class="reference internal" href="../configuration/config_yaml.html#sec-configuration-config-yaml"><span class="std std-ref">config.yaml</span></a> <a class="footnote-reference brackets" href="#f1" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>  in a <code class="docutils literal notranslate"><span class="pre">controls</span></code> section which
basically represents a hierarchical structure of all configured custom controls of various types.</p>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>To make sure that your <code class="docutils literal notranslate"><span class="pre">config.yaml</span></code> stays valid when adding custom controls, don’t hesitate to take a look at the
<a class="reference internal" href="../configuration/yaml.html#sec-configuration-yaml"><span class="std std-ref">YAML Primer</span></a>.</p>
</div>
<p>The following example defines a control for enabling the cooling fan with a variable speed defined by the user
(default 255 and selectable through a slider UI element) and a control for disabling the fan, all within a section named
“Fan”, two example controls with multiple commands in a section “Example for multiple commands”, a command with printer
feedback evaluation for the result of the M114 “Get Position” gcode inside a section named “Reporting” and finally
a GCODE script including user input.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><code><span class="nt">controls</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Fan</span>
<span class="w">    </span><span class="nt">layout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">horizontal</span>
<span class="w">    </span><span class="nt">children</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Enable Fan</span>
<span class="w">      </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">M106 S%(speed)s</span>
<span class="w">      </span><span class="nt">input</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Speed (0-255)</span>
<span class="w">        </span><span class="nt">parameter</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">speed</span>
<span class="w">        </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">255</span>
<span class="w">        </span><span class="nt">slider</span><span class="p">:</span>
<span class="w">          </span><span class="nt">min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">          </span><span class="nt">max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">255</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Disable Fan</span>
<span class="w">      </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">M107</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Example for multiple commands</span>
<span class="w">    </span><span class="nt">children</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Move X (static)</span>
<span class="w">      </span><span class="nt">confirm</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">You are about to move the X axis right by 10mm with 3000mm/min.</span>
<span class="w">      </span><span class="nt">commands</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">G91</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">G1 X10 F3000</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">G90</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Move X (parametric)</span>
<span class="w">      </span><span class="nt">commands</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">G91</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">G1 X%(distance)s F%(speed)s</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">G90</span>
<span class="w">      </span><span class="nt">input</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Distance</span>
<span class="w">        </span><span class="nt">parameter</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">distance</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3000</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Speed</span>
<span class="w">        </span><span class="nt">parameter</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">speed</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Reporting</span>
<span class="w">    </span><span class="nt">children</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Get Position</span>
<span class="w">      </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">M114</span>
<span class="w">      </span><span class="nt">regex</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;X:([-+]?[0-9.]+)</span><span class="nv"> </span><span class="s">Y:([-+]?[0-9.]+)</span><span class="nv"> </span><span class="s">Z:([-+]?[0-9.]+)</span><span class="nv"> </span><span class="s">E:([-+]?[0-9.]+)&quot;</span>
<span class="w">      </span><span class="nt">template</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Position:</span><span class="nv"> </span><span class="s">X={0},</span><span class="nv"> </span><span class="s">Y={1},</span><span class="nv"> </span><span class="s">Z={2},</span><span class="nv"> </span><span class="s">E={3}&quot;</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Fun stuff</span>
<span class="w">    </span><span class="nt">children</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Dance</span>
<span class="w">      </span><span class="nt">script</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom/dance.gco</span>
<span class="w">      </span><span class="nt">input</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Go arounds</span>
<span class="w">        </span><span class="nt">parameter</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">repetitions</span>
<span class="w">        </span><span class="nt">slider</span><span class="p">:</span>
<span class="w">          </span><span class="nt">max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">          </span><span class="nt">min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">          </span><span class="nt">step</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</code></pre></div>
</div>
<p>Adding this to <code class="docutils literal notranslate"><span class="pre">config.yaml</span></code>, restarting the OctoPrint server and switching to the “Control” tab within its
interface yields the visual representation in <a class="reference internal" href="#fig-configuration-customcontrols-example"><span class="std std-numref">Fig. 1</span></a>.</p>
<figure class="align-center" id="id2">
<span id="fig-configuration-customcontrols-example"></span><img alt="The rendered output created through the example configuration" src="../_images/features-custom_controls-example.png" />
<figcaption>
<p><span class="caption-number">Fig. 1 </span><span class="caption-text"><span class="caption-text">
The rendered output created through the example configuration</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></figcaption>
</figure>
<p>As you can see you have two basic types of control definitions here: controls that actually do something (providing a
button that sends one or more commands to the printer when clicked, displaying output received from the printer) and
controls that just serve as <em>container</em> for other controls, the latter being identified by having a <code class="docutils literal notranslate"><span class="pre">children</span></code>
attribute wrapping more controls.</p>
<div class="hint tip admonition">
<p class="admonition-title">Hint</p>
<p>Take a look at the bundled <a class="reference internal" href="../bundledplugins/customcontrolmanager.html#sec-bundledplugins-customcontrolmanager"><span class="std std-ref">Custom Control Manager plugin</span></a>
which allows you configuring your Custom Controls through OctoPrint’s
settings interface without the need to manually edit the configuration
file.</p>
</div>
<h2 id="types"><span id="sec-features-custom-controls-types"></span>Types<a class="headerlink" href="#types" title="Link to this heading">¶</a></h2>
<p>Let’s take a closer look at the possible attributes that are available for both basic types.</p>
<h3 id="containers"><span id="sec-features-custom-controls-types-containers"></span>Containers<a class="headerlink" href="#containers" title="Link to this heading">¶</a></h3>
<table class="docutils data align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Attribute</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">children</span></code></p></td>
<td><p>A list of children controls or containers contained within this container</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">name</span></code></p></td>
<td><p>(Optional) A name to display above the container, basically a section header</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">layout</span></code></p></td>
<td><p>(Optional) The layout to use for laying out the contained children, either from top to bottom (<code class="docutils literal notranslate"><span class="pre">vertical</span></code>),
from left to right (<code class="docutils literal notranslate"><span class="pre">horizontal</span></code>), or in a left to right grid with optional <code class="docutils literal notranslate"><span class="pre">width</span></code> and <code class="docutils literal notranslate"><span class="pre">offset</span></code> on children. Defaults to a <code class="docutils literal notranslate"><span class="pre">vertical</span></code> layout.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">collapsed</span></code></p></td>
<td><p>(Optional) Whether to have the container collapsed by default, if it has a <code class="docutils literal notranslate"><span class="pre">name</span></code>. Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></td>
</tr>
</tbody>
</table>
<h3 id="controls"><span id="sec-features-custom-controls-types-controls"></span>Controls<a class="headerlink" href="#controls" title="Link to this heading">¶</a></h3>
<table class="docutils data align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Attribute</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">name</span></code></p></td>
<td><p>The name of the control, will be displayed either on the button if it’s a control sending a command or as a label
for controls which only display output.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">command</span></code></p></td>
<td><p>(Optional) A single GCODE command to send to the printer. Will be rendered as a button which sends the command to
the printer upon click. The button text will be the value of the <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute. Mutually exclusive with
<code class="docutils literal notranslate"><span class="pre">commands</span></code> and <code class="docutils literal notranslate"><span class="pre">script</span></code>. The rendered button will be disabled if the printer is currently offline or printing or
alternatively if the requirements defined via the <code class="docutils literal notranslate"><span class="pre">enabled</span></code> attribute are not met.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">commands</span></code></p></td>
<td><p>(Optional) A list of GCODE commands to send to the printer. Will be rendered as a button which sends the commands
to the printer upon click. The button text will be the value of the <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute. Mutually exclusive with
<code class="docutils literal notranslate"><span class="pre">command</span></code> and <code class="docutils literal notranslate"><span class="pre">script</span></code>. The rendered button will be disabled if the printer is currently offline or printing
or alternatively if the requirements defined via the <code class="docutils literal notranslate"><span class="pre">enabled</span></code> attribute are not met.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">script</span></code></p></td>
<td><p>(Optional) The name of a full blown <a class="reference internal" href="gcode_scripts.html#sec-features-gcode-scripts"><span class="std std-ref">GCODE script</span></a> to send to the printer.
Will be rendered as a button which sends the script to the printer upon click. The button text will be the value
of the <code class="docutils literal notranslate"><span class="pre">name</span></code> attribute. Mutually exclusive with <code class="docutils literal notranslate"><span class="pre">command</span></code> and <code class="docutils literal notranslate"><span class="pre">commands</span></code>. The rendered button will be
disabled if the printer is currently offline or printing or alternatively if the requirements defined via the
<code class="docutils literal notranslate"><span class="pre">enabled</span></code> attribute are not met.</p>
<p>Values of input parameters will be available in the template context under the <code class="docutils literal notranslate"><span class="pre">parameter</span></code> variable (e.g.
an input parameter <code class="docutils literal notranslate"><span class="pre">speed</span></code> will be available in the script template as <code class="docutils literal notranslate"><span class="pre">parameter.speed</span></code>). On top of that all
other variables defined in the <a class="reference internal" href="gcode_scripts.html#sec-features-gcode-scripts-context"><span class="std std-ref">GCODE template context</span></a> will be available.</p>
<p><a class="reference internal" href="#sec-features-custom-controls-examples-gcode-script"><span class="std std-ref">See below for an example</span></a>.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">javascript</span></code></p></td>
<td><p>(Optional) A JavaScript snippet to be executed when the button rendered for <code class="docutils literal notranslate"><span class="pre">command</span></code> or <code class="docutils literal notranslate"><span class="pre">commands</span></code> is
clicked. This allows to override the direct sending of the command or commands to the printer with more
sophisticated behaviour. The JavaScript snippet is <code class="docutils literal notranslate"><span class="pre">eval</span></code>’d and processed in a context where the control
it is part of is provided as local variable <code class="docutils literal notranslate"><span class="pre">data</span></code> and the <code class="docutils literal notranslate"><span class="pre">ControlViewModel</span></code> is available as <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">additionalClasses</span></code></p></td>
<td><p>(Optional) Additional classes to apply to the button of a <code class="docutils literal notranslate"><span class="pre">command</span></code>, <code class="docutils literal notranslate"><span class="pre">commands</span></code>, <code class="docutils literal notranslate"><span class="pre">script</span></code> or <code class="docutils literal notranslate"><span class="pre">javascript</span></code>
control, other than the default <code class="docutils literal notranslate"><span class="pre">btn</span></code>. Can be used to visually style the button, e.g. set to <code class="docutils literal notranslate"><span class="pre">btn-danger</span></code> to
turn the button red.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code></p></td>
<td><p>(Optional) A JavaScript snippet returning either <code class="docutils literal notranslate"><span class="pre">true</span></code> or <code class="docutils literal notranslate"><span class="pre">false</span></code> determining whether the control
should be enabled or not. This allows to override the default logic for the enable state
of the control (disabled if printer is offline). The JavaScript snippet is <code class="docutils literal notranslate"><span class="pre">eval</span></code>’d and processed
in a context where the control it is part of is provided as local variable <code class="docutils literal notranslate"><span class="pre">data</span></code> and the
<code class="docutils literal notranslate"><span class="pre">ControlViewModel</span></code> is available as <code class="docutils literal notranslate"><span class="pre">self</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">input</span></code></p></td>
<td><p>(Optional) A list of definitions of input parameters for a <code class="docutils literal notranslate"><span class="pre">command</span></code> or <code class="docutils literal notranslate"><span class="pre">commands</span></code>, to be rendered as
additional input fields. <code class="docutils literal notranslate"><span class="pre">command</span></code>/<code class="docutils literal notranslate"><span class="pre">commands</span></code> may contain placeholders to be replaced by the values obtained
from the user for the defined input fields:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Enable Fan</span>
<span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">M106 S%(speed)s</span>
<span class="nt">input</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Speed (0-255)</span>
<span class="w">    </span><span class="nt">parameter</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">speed</span>
<span class="w">    </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">255</span>
<span class="w">    </span><span class="nt">slider</span><span class="p">:</span>
<span class="w">        </span><span class="nt">min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span>
<span class="w">        </span><span class="nt">max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">255</span>
</code></pre></div>
</div>
<p>In OctoPrint’s default UI input fields are always rendered left to right (inline).</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">input.name</span></code></p></td>
<td><p>Name to display for the input field.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">input.parameter</span></code></p></td>
<td><p>Internal parameter name for the input field, used as a placeholder in <code class="docutils literal notranslate"><span class="pre">command</span></code>/<code class="docutils literal notranslate"><span class="pre">commands</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">input.default</span></code></p></td>
<td><p>Default value for the input field.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">input.slider</span></code></p></td>
<td><p>(Optional) If this attribute is included, instead of an input field a slider control will
be rendered. If you don’t want to define any of <code class="docutils literal notranslate"><span class="pre">min</span></code>, <code class="docutils literal notranslate"><span class="pre">max</span></code> or <code class="docutils literal notranslate"><span class="pre">step</span></code>, write <code class="docutils literal notranslate"><span class="pre">slider:</span> <span class="pre">{}</span></code> to render
a slider based on default values.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">input.slider.min</span></code></p></td>
<td><p>(Optional) Minimum value of the slider, defaults to 0.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">input.slider.max</span></code></p></td>
<td><p>(Optional) Maximum value of the slider, defaults to 255.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">input.slider.step</span></code></p></td>
<td><p>(Optional) Step size per slider “tick”, defaults to 1.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">regex</span></code></p></td>
<td><p>(Optional) A <a class="reference external" href="https://docs.python.org/3/library/re.html#re-syntax" title="(in Python v3.14)"><span class="xref std std-ref">regular expression</span></a> to
match against lines received from the printer to retrieve information from it (e.g. specific output). Together
with <code class="docutils literal notranslate"><span class="pre">template</span></code> this allows rendition of received data from the printer within the UI.</p>
<p><strong>Please also read the note below</strong>.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">template</span></code></p></td>
<td><p>(Optional) A template to use for rendering the match of <code class="docutils literal notranslate"><span class="pre">regex</span></code>. May contain placeholders in
<a class="reference external" href="https://docs.python.org/3/library/string.html#formatstrings" title="(in Python v3.14)"><span class="xref std std-ref">Python Format String Syntax</span></a> for either named
groups within the regex (e.g. <code class="docutils literal notranslate"><span class="pre">Temperature:</span> <span class="pre">{temperature}</span></code> for a regex <code class="docutils literal notranslate"><span class="pre">T:\s*(?P&lt;temperature&gt;\d+(\.\d*)</span></code>)
or positional groups within the regex (e.g. <code class="docutils literal notranslate"><span class="pre">Position:</span> <span class="pre">X={0},</span> <span class="pre">Y={1},</span> <span class="pre">Z={2},</span> <span class="pre">E={3}</span></code> for a regex
<code class="docutils literal notranslate"><span class="pre">X:([0-9.]+)</span> <span class="pre">Y:([0-9.]+)</span> <span class="pre">Z:([0-9.]+)</span> <span class="pre">E:([0-9.]+)</span></code>).</p>
<p><strong>Please also read the note below</strong>.</p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">confirm</span></code></p></td>
<td><p>(Optional) A text to display to the user to confirm his button press. Can be used with sensitive custom controls
like changing EEPROM values in order to prevent accidental clicks. The text will be displayed in a confirmation
dialog like in <a class="reference internal" href="#fig-configuration-customcontrols-confirm"><span class="std std-numref">Fig. 2</span></a>.</p></td>
</tr>
</tbody>
</table>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">regex</span></code> and <code class="docutils literal notranslate"><span class="pre">template</span></code> are only supported for controls that are defined through
<code class="docutils literal notranslate"><span class="pre">config.yaml</span></code>. These control properties aren’t supported for controls added only in
the frontend by the <a class="reference internal" href="../plugins/viewmodels.html#sec-plugins-viewmodels-callbacks"><span class="std std-ref">getAdditionalControls</span></a>
view model callback.</p>
</div>
<figure class="align-center" id="id3">
<span id="fig-configuration-customcontrols-confirm"></span><img alt="An example confirmation dialog" src="../_images/features-custom_controls-confirm.png" />
<figcaption>
<p><span class="caption-number">Fig. 2 </span><span class="caption-text"><span class="caption-text">
An example confirmation dialog</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></figcaption>
</figure>
<h2 id="examples"><span id="sec-features-custom-controls-examples"></span>Examples<a class="headerlink" href="#examples" title="Link to this heading">¶</a></h2>
<h3 id="parameterized-gcode-script"><span id="sec-features-custom-controls-examples-gcode-script"></span>Parameterized GCODE Script<a class="headerlink" href="#parameterized-gcode-script" title="Link to this heading">¶</a></h3>
<div class="literal-block-wrapper docutils container" id="code-features-custom-controls-example-gcode-script-config-yaml">
<div class="code-block-caption highlight"><span class="filename"><span class="caption-number">Listing 1 </span><span class="caption-text">
</span>Control definition in ~/.octoprint/config.yaml<a class="headerlink" href="#code-features-custom-controls-example-gcode-script-config-yaml" title="Permalink to this code">¶</a></span></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Dance</span>
<span class="nt">script</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">custom/dance.gco</span>
<span class="nt">input</span><span class="p">:</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Go arounds</span>
<span class="w">  </span><span class="nt">parameter</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">repetitions</span>
<span class="w">  </span><span class="nt">slider</span><span class="p">:</span>
<span class="w">    </span><span class="nt">max</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">    </span><span class="nt">min</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">    </span><span class="nt">step</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</code></pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="code-features-custom-controls-example-gcode-script-dance-gco">
<div class="code-block-caption highlight"><span class="filename"><span class="caption-number">Listing 2 </span><span class="caption-text">
</span>~/.octoprint/scripts/gcode/custom/dance.gco<a class="headerlink" href="#code-features-custom-controls-example-gcode-script-dance-gco" title="Permalink to this code">¶</a></span></div>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><code><span class="cp">{%</span> <span class="k">set</span> <span class="nv">center_x</span> <span class="o">=</span> <span class="nv">printer_profile.volume.width</span> <span class="o">/</span> <span class="m">2</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">set</span> <span class="nv">center_y</span> <span class="o">=</span> <span class="nv">printer_profile.volume.depth</span> <span class="o">/</span> <span class="m">2</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">set</span> <span class="nv">speed_x</span> <span class="o">=</span> <span class="nv">printer_profile.axes.x.speed</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">set</span> <span class="nv">speed_y</span> <span class="o">=</span> <span class="nv">printer_profile.axes.y.speed</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">set</span> <span class="nv">speed_z</span> <span class="o">=</span> <span class="nv">printer_profile.axes.z.speed</span> <span class="cp">%}</span>
<span class="x">M117 run </span><span class="cp">{{</span> <span class="nv">script.name</span> <span class="cp">}}</span>
<span class="x">G4 P500</span>
<span class="x">G1 Z10</span>
<span class="x">G1 X</span><span class="cp">{{</span> <span class="nv">center_x</span> <span class="cp">}}</span><span class="x"> Y</span><span class="cp">{{</span> <span class="nv">center_y</span> <span class="cp">}}</span><span class="x"> F</span><span class="cp">{{</span> <span class="nv">speed_x</span> <span class="cp">}}</span>
<span class="x">M117 let&#39;s dance!</span>
<span class="x">G91</span>
<span class="x">G1 X-1 Y-1 F</span><span class="cp">{{</span> <span class="nv">speed_x</span> <span class="cp">}}</span>
<span class="cp">{%</span> <span class="k">for</span> <span class="nv">n</span> <span class="k">in</span> <span class="nv">range</span><span class="o">(</span><span class="nv">parameters.repetitions</span><span class="o">)</span> <span class="cp">%}</span>
<span class="x">M117 and </span><span class="cp">{{</span> <span class="nv">n</span> <span class="o">+</span> <span class="m">1</span> <span class="cp">}}</span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">n</span> <span class="o">%</span> <span class="m">2</span> <span class="o">==</span> <span class="m">0</span> <span class="cp">%}</span>
<span class="x">    G1 Z1 F</span><span class="cp">{{</span> <span class="nv">speed_z</span> <span class="cp">}}</span>
<span class="x">    G1 Z-2 F</span><span class="cp">{{</span> <span class="nv">speed_z</span> <span class="cp">}}</span>
<span class="x">    G1 Z1 F</span><span class="cp">{{</span> <span class="nv">speed_z</span> <span class="cp">}}</span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="x">  G1 X2 F</span><span class="cp">{{</span> <span class="nv">speed_x</span> <span class="cp">}}</span>
<span class="x">  G1 Y2 F</span><span class="cp">{{</span> <span class="nv">speed_y</span> <span class="cp">}}</span>
<span class="x">  G1 X-2 F</span><span class="cp">{{</span> <span class="nv">speed_x</span> <span class="cp">}}</span>
<span class="x">  G1 Y-2 F</span><span class="cp">{{</span> <span class="nv">speed_y</span> <span class="cp">}}</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="x">G90</span>
<span class="x">G1 X</span><span class="cp">{{</span> <span class="nv">center_x</span> <span class="cp">}}</span><span class="x"> Y</span><span class="cp">{{</span> <span class="nv">center_y</span> <span class="cp">}}</span><span class="x"> F</span><span class="cp">{{</span> <span class="nv">speed_x</span> <span class="cp">}}</span>
<span class="x">G28 X0 Y0</span>
</code></pre></div>
</div>
</div>
<p>Note the usage of the <code class="docutils literal notranslate"><span class="pre">parameters.repetitions</span></code> template variable in the GCODE script template, which will contain
the value selected by the user for the “Go arounds” slider.</p>
<p class="rubric">Footnotes</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="f1" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>For Linux that will be <code class="docutils literal notranslate"><span class="pre">~/.octoprint/config.yaml</span></code>, for Windows it will be <code class="docutils literal notranslate"><span class="pre">%APPDATA%/OctoPrint/config.yaml</span></code> and for
Mac <code class="docutils literal notranslate"><span class="pre">~/Library/Application</span> <span class="pre">Support/OctoPrint/config.yaml</span></code></p>
</aside>
</aside>







  
  






                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="accesscontrol.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Access Control">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Access Control
              </div>
            </div>
          </a>
        
        
          
          <a href="gcode_scripts.html" class="md-footer__link md-footer__link--next" aria-label="Next: GCODE Scripts">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                GCODE Scripts
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  
  
  <div class="md-footer-meta md-typeset">
    
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-footer-copyright__highlight">
        &#169; Copyright 2013-2026, OctoPrint.
        
    </div>
  
    Created using
    <a href="https://www.sphinx-doc.org/" target="_blank" rel="noopener">Sphinx</a>
    8.2.3.
     and
    <a href="https://github.com/jbms/sphinx-immaterial/" target="_blank" rel="noopener">Sphinx-Immaterial</a>
  
</div>
      
    </div>
    
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.expand", "navigation.sections", "navigation.top", "navigation.footer", "search.share", "search.suggest", "toc.follow", "toc.sticky", "content.tabs.link", "content.code.copy", "content.tooltips", "announce.dismiss"], "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike", "staticVersions": null, "versionPath": "../versions.json"}}</script>
    
      
        <script src="../_static/sphinx_immaterial_theme.32136f45f91ae6956.min.js?v=a7a9472a"></script>
        <script data-domain="docs.octoprint.org" defer="defer" src="https://plausible.octoprint.org/js/plausible.js"></script>
    
  </body>
</html>